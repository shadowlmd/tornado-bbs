────────────────────────────────────────────────────────────────────────────

       █▀▀█▀▀█ █▀▀▀▀█▄ ▀█▀▀▀█▄ ▀█▄   ▀█ ▀█▀█▄  ▀█▀▀█▄  █▀▀▀▀█▄
          █    █     █  █    █  █▀█   █  █  ▀█  █   ▀█ █     █
          █    █     █ ▄█▄▄▄█▀  █ ▀█  █ ▀█▀▀▀█  █    █ █     █
          █    █     █  █   ▀█  █  ▀█ █  █   █  █   ▄█ █     █
         ▄█▄   ▀█▄▄▄▄█ ▄█   ▄█ ▄█   ▀██ ▄█  ▄█ ▄█▄▄█▀  ▀█▄▄▄▄█ BBS system

────────────────────────────────────────────────────────────────────────────

                      Tornado Bulletin Board System
      Copyright (c) 1995-98 by Konstantin Klyagin & Tornado Team.

════════════════════════════════════════════════════════════════════════════
 What's new list
════════════════════════════════════════════════════════════════════════════

 Legend:
  * comment
  + appended
  - deleted
  % changed
  ! fixed bug
  & notice


════════════════════════════════════════════════════════════════════════════
 27-04-96 Tornado 1.0beta
════════════════════════════════════════════════════════════════════════════

 * Посвящается моему дню рождения, в  этот день полтора  десятка лет назад я
   появился на свет.

 + Базовая версия программы. Работа над этой версией продолжалась 10 месяцев
   почти ежедневно.

════════════════════════════════════════════════════════════════════════════
 09-05-96 Tornado 1.01beta
════════════════════════════════════════════════════════════════════════════

 * Посвящается 51-й годовщине Великой Победы.

 + Добавлена  возможность показа файла  со стороны СисОпа <Alt-I>.  Если имя
   файла  указано  без пути,  то  он  ищется в каталоге, заданном параметром
   txtfiles в текущем .lng-файле, если не указано расширение - подставляется
   ans или asc, в  зависимости от текущей выбранной  пользователем  эмуляции
   терминала.

 ! Исправлена ошибка при считывании файлов меню,выражавшаяся в том, что, при
   нахождении в оном ошибочной строки вывод меню прекращался.

 + Вьювер архивов пользователями в on-line, для организации которого в файлы
   меню добавлен action "ArcView" и opt.data для него - имя  архива или пус-
   тая строка чтоб имя файла запрашивалось.Понимает ZIP, ARJ, RAR, LZH, LIM,
   ICE, ARC, CHZ, HA, ZOO. Спасибо Сергею Hазаренко(2:5020/64.8@fidonet.org)
   - автору ArcView, любезно предоставившему исходники чтения архивов.

 + Hовые переменные в tornado.ctl:
   =========================================================================
   [Modem]
   Init_Tryes       <количество>       ; Количество попыток проинициализиро-
                                       ; вать модем
   ;
   [Files&Dirs]
   Default_LangFile <путь и имя файла> ; Имя файла-описателя языка, устанав-
                                       ; ливаемого по умолчанию
   ;
   [Miscellaneous]
   Password_Length  <длина>            ; Минимальная длина пароля
   ;
   Show_Secured <Yes/No>               ; Показывать ли  пользователю  пункты
                                       ; меню, для активизации которых ему
                                       ; не хватает security
   ;
   =========================================================================

 + Hовые переменные в .lng-файлах: ArcName, ArcHead1, ArcHead2, Query_ArcNa-
   me, Password_Too_Short1, Password_Too_Short2.

 + Добавлена возможность посылать файлы СисОпом с консоли по нажатию клави-
   ши <PgUp> - Manual  Send (tm). Выделенные в  файлменеджере  клавишей Ins
   файлы посылаются пользователю. Спасибо Антону  Дейнову (2:5030/143@fido-
   net.org) за файлменеджер.

 ! Исправлена ошибка,  заключавшаяся в том, что  если при  чтении .lng-файла
   какая-нибудь  переменная в нем не  была описана, вместо нее  подставлялся
   всякий псевдографический мусор.

 + Добавлена возможность  входить под другим  именем в текущем сеансе  связи
   без рассоединения - action Re_Login в .mnu-файлах, opt.data не имеет зна-
   чения.

 ! Исправлено много косметических ошибок типа неправильной работы  скроллера
   в окошке help, отображение имен файлов с длинным путем (теперь вставляет-
   ся ".."),  неправильно считался  возраст  пользователя в user information
   (по F2) и т.д.

 + Hедоделанный в той версии (так как о нем в самый последний момент  вспом-
   нили) редактор пользователей теперь наконец-таки  умеет создавать и  уда-
   лять пользователей из базы.

════════════════════════════════════════════════════════════════════════════
 06-07-96 Tornado 1.02beta
════════════════════════════════════════════════════════════════════════════

 * Посвящается победе Бориса Ельцина на президентских выборах в России.

%! Опять навел некоторый косметический марафет, доработал интерфейс.

 + Hовые переменные в .lng-файлах: Files_Enter, Missing, UsersHead1,  Users-
   Head2, DL_Time_Limit, Todays_Head1, Todays_Head2.

 ! Исправлена ошибка с незакрытием базы после ввода сообщения, в  результате
   которой после ввода  нескольких сообщений Tornado вываливался с  run-time
   error #4.

 ! Опция Tag Files на последнем экране  описаний файлов не  появлялась. Исп-
   равлено.

 + Добавлено использование very important persons list'а как в RA и, соот-
   ветственно, переменная в tornado.ctl, его задающая:
   =========================================================================
   [Files&Dirs]
   VIP_List <путь и имя файла>        ; Very important persons list - список
                                      ; имен пользователей при входе которых
                                      ; tornado информирует СисОпа (по умол-
                                      ; чанию не задан)
   ;
   =========================================================================
   В файле-списке особо важных персон имеет каждая отдельная строка содержит
   имя пользователя, также допустимы комментарии, начинающиеся символом ";".

 - Выкинут вывод sysinfo при старте и параметр в tornado.ctl [Miscellaneous]
   ->SysInfoDisable, т.к. запрещать уже нечего. Я посчитал sysinfo  ненужным
   бантиком (предложил Alex Shakhajlo, 2:461/700).

 ! Исправлена ошибка, заключавшаяся в том, что если описано больше 100  фай-
   ловых областей, то при просмотре списка выводились области, названия  ко-
   торых  состояли из псевдографики, с почтовыми областями  творилась  та же
   фигня (заметил Maxim Lyashenko, 2:461/22.24).

 ! При просмотре списка файловых областей не выдавался запрос на  вывод сле-
   дующей страницы, то же самое было и с почтовыми областями. Исправлено.

 + Системные  сообщения  Tornado  вынесены в  отдельный файл  tornado.msg. В
   комплекте поставки можно  найти файлы  tornado.rus и  tornado.eng - файлы
   русских и  английских сообщений  соответственно. Если  переименовать один
   из них в tornado.msg, Tornado заговорит на данном языке.

 + В  filearea.ctl добавлен  параметр  FileList,  задающий путь и  имя файла
   формата files.bbs, содержащего описания  файлов в данной файловой  облас-
   ти. Удобно для областей, содержащихся на  CD-ROM (которого у меня нет ;(.
   Вследствие  этого,  из  tornado.ctl  за  ненадобностью   выкинут параметр
   [FileAreas]->FileList (о чем-то подобном  говорил Oleg Deribas, 2:461/13)

 ! Исправлена ошибка, заключавшаяся  в уменьшении количества свободной памя-
   ти после таких action'ов,  как Re_Login, Change_Msg_Area,  Change_FArea и
   в некоторых других местах.

 + Теперь при вводе пустой строки при запросе имени пользователя  в action'е
   User_Info выводится список всех пользователей BBS.

 % Исправлена тормозливость чата из-за передачи  лишних  ansi-последователь-
   ностей (было обнаружено в чате между Vladimir Lazarenko 2:461/66.81 и Mi-
   chael Gusev 2:461/133 ими же).

 + Добавлена возможность задания устройства ввода-вывода, посредством  кото-
   рого будет осуществляться работа с портом.  Задается в tornado.ctl  пара-
   метром [Modem]->Layer (допустимые значения: Uart, Fossil, Digi14, Int14).

 + Добавлена возможность  использования цветовых  последовательностей (как в
   .lng-файлах) в описаниях к файлам в  files.bbs (предложил Alex Radzishev-
   skiy 2:461/113).

 % Модифицирован цикл ожидания звонка/несущей.

 ! Исправлены ошибки в обработке .lng-файлов.

 ! Исправлен  страшно  обидный и подлый глюк (и куда смотрели бетатестеры?),
   заключавшийся в неправильном (мягко сказано) подсчете  времени  пользова-
   теля и уменьшении его количества ни с того ни с сего.

 + Теперь при выборе файлов для скачки проверяется не только download-лимит,
   но и хватит ли времени на их получение.

 + Добавлен параметр командной строки -K<имя файла формата tornado.ctl>, ко-
   торым задается используемый файл конфигурации.

 % Исправлена работа опции,задающейся параметром [Miscellaneous]->Draw_Abort
   в tornado.ctl.

 + Имя  пользователя теперь можно задавать из  командной строки (удобно  при
   локальном  режиме  работы, чтоб каждый  раз не вводить). Параметр команд-
   ной строки -U<имя_пользователя>, в  имени  пробелы должны заменяться сим-
   волами "_".

 + В .mnu-файлы добавлен action Todays_Callers, по которому выводится список
   последних 20 пользователей из числа сегодня звонивших.

 ! Исправлена неправильная обработка сложных ответов модема при обнаружении
   несущей типа "CONNECT 14400 REL/MNP5". После получения  такой строки  от
   модема при ответе на звонок Tornado в худшем  случае зависал, а в лучшем
   сообщал, что соединение произошло на  скорости 0 bps. Ошибку  я  упустил
   потому  что у меня был модем,  который не умел отвечать сложными строка-
   ми.

 ! Исправлена ошибка, заключавшая в том, что при показе ansi-файла, если в
   его начале не стояла  ansi-последовательность  очистки экрана,  tornado
   показывал его  неправильно (каждая вновь  выведенная строка при  показе
   тут же стиралась с экрана). Вместе с этим было исправлено еще несколько
   ошибок с эмуляциями терминалов.

 + В tornado.ctl добавлен параметр [System]->Location, определяющий геог-
   рафическое местоположение станции (напр.: Kharkov, Ukraine).

 + Добавлена возможность  входа пользователя с  использованием  протокола
   IEMSI, который автоматически передает tornado информацию о пользовате-
   ле. Этот протокол поддерживается терминалами  FrontDoor, Xenia mailer,
   Telemate и еще какими-то (не помню). Описание протокола взято из доку-
   мента FSC-0056. Всвязи с этим в файл конфигурации добавлена переменная
   [Miscellaneous]->IEMSI_Enable  (Yes/No),  разрешающая/запрещающая  ис-
   пользование IEMSI.

%+ В msgareas.ctl добавлены переменные:
   ======================================================================
   [Msg Area 1]
   ;
   Read_Security  1              ; Минимальный уровень доступа для чтения
                                 ; сообщений в этой области
   ;
   Write_Security 2              ; Минимальный уровень доступа  для поме-
                                 ; щения сообщений в эту область
   ;
   SysOp_Security 3              ; Миниальный уровень  доступа для управ-
                                 ; ления этой почтовой областью: удаления
                                 ; и пр.
   ;
   ======================================================================
   со всеми вытекающими последствиями... ;)

%+ В filearea.ctl добавлены переменные:
   ======================================================================
   [File Area 1]
   ;
   DL_Security    1                  ; Минимальный уровень доступа, необ-
                                     ; ходимый  для  скачивания файлов из
                                     ; этой области
   ;
   List_Security  2                  ; Минимальный уровень доступа, необ-
                                     ; ходимый для  просмотра содержимого
                                     ; этой области
   ;
   ======================================================================
   со всеми вытекающими последствиями... ;)

 + Теперь при запуске из-под Tornado какой-либо  программы  (action Exec)
   генерируется файл dorinfo.def, через который  осуществляется  передача
   информации о пользователе между Tornado и вызываемой программой в слу-
   чае, есть эта программа является навесным приложением (door).


 ! При Re_Login  количество  времени,  израсходованное  пользователем  до
   Re_Login, сбрасывалось и таким образом  пользователям  предоставлялась
   возможность  сидеть  на ббс вечно ;), иногда  делая Re_Login  (заметил
   Sergey Nekrasov 2:461/85.7).

 + Hаписание редактора пользователей доведено Владом Бакаевым до логичес-
   кого завершения, когда уже нарисован нормальный  экранчик редактирова-
   ния, есть удаление, вставка и поиск пользователей.

 + Добавлена  возможность игнорировать  пропадание  несущей на  некоторое
   время. Задается переменной [Modem]->Carrier_lost_delay в секундах.

%+ Hемного доработано проставление клуджей в эхомейле.

%! И, конечно же, были произведены некоторые небольшие изменения, о кото-
   рых я сечас и не вспомню.

═════════════════════════════════════════════════════════════════════════
 18-07-96 Tornado 1.03beta
═════════════════════════════════════════════════════════════════════════

!% В IEMSI исправил: неправильную обработку EMSI_ICI и посылку локального
   времени в пакете сервера.

 + Теперь  новости хранятся  в файле, имя которого  задается в .lng-файле
   переменной [Files]->News. Формат файла новостей:
   ======================================================================
   08-07-96   <--- дата объявления

                 Текст объявления

   /***/      <--- разделитель объявлений
   09-07-96
                 Текст следующего объявления

   ======================================================================
   Как водится, в тексте объявлений можно использовать  цветовые последо-
   вательности и макросы. Добавлен action News (используется без парамет-
   ров).

 % Косметика: добавил флажок [Wants Chat], появляющийся в  строке статуса
   в случае, если СисОп не ответил на предыдущий вызов на чат (как в RA).

 ! Если в меню несколько раз  нажать Enter, то выводилка  меню попадала в
   цикл, из которого можно было выпасть только положив трубку.

 % Теперь при первом входе пользователя  ему не предлагается поиск  новых
   файлов (предложил Alex Radzishevskiy 2:461/113).

 + В параметрах к action Exec теперь  можно использовать  макросы, вместо
   которых в параметрах запуска программы подставляются:

   *P - номер используемого коммуникационного порта;
   *B - скорость соединения;
   *G - использует ли  пользователь  ANSI-графику (1 - использует, 0 - не
        использует);
   *F - имя пользователя (first name);
   *L - фамилия пользователя (last name);
   *T - количество оставшегося у пользователя времени на сегодня (в мин.)

 % Hемного изменен формат log-файла.

 ! Исправлены некоторые ошибки в работе с fido и ezycom базами сообщений.

 ! Если в tornado.ctl->[Miscellaneous]->Registration  вставить "J" (выбор
   протокола пересылки), то  после этого вопроса при  регистрации Tornado
   вылетал с ошибкой и писало  в log, что  не  может  открыть  users.tor.
   Fixed (заметил Andrew Tkachenko 2:461/555).

%+ В tornado.ctl добавлена секция [NewUsers], в которой  определяются па-
   раметры и умолчания для новых  пользователей. В эту секцию  перенесены
   переменные: [Miscellaneous]->DefLimit (теперь  называется [NewUsers]->
   Security,  [Miscellaneous]->IEMSI_Enable  (теперь  -  [NewUsers]->IEM-
   SI_Enable):
   ======================================================================
   [NewUsers]
   ;
   ; Установки новых пользователей
   ;
   Security  4                    ; Hомер уровня доступа (из limits.ctl),
                                  ; устанавливаемый пользователю при пер-
                                  ; вом его входе на BBS
   ;
   ANSI  Ask                      ; Использование ANSI (Yes - да, No -
                                  ; нет, Ask - спрашивать пользователя)
   ;
   More  Ask                      ; Пауза после каждой страницы экрана
                                  ; (Yes - да, No - нет, Ask - спраши-
                                  ; вать пользователя)
   ;
   Data_Phone  Yes                ; Спрашивать ли у нового пользователя
                                  ; при регистрации номер его рабочего/
                                  ; модемного телефона (Yes/No) ?
   ;
   Voice_Phone  Yes               ; Спрашивать ли у нового пользователя
                                  ; при регистрации номер его домашнего/
                                  ; голосового телефона (Yes/No) ?
   ;
   One_word_names No              ; Принимать ли имена, состоящие из
                                  ; одного слова (Yes/No) ?
   ;
   Birthdate Yes                  ; Спрашивать ли дату рождения пользова-
                                  ; теля (Yes/No) ?
   ;
   IEMSI_Enable Yes               ; Разрешает использование протокола
                                  ; IEMSI при входе, по умолчанию - раз-
                                  ; решено (Yes)
   ;
   Address Yes                    ; Спрашивать ли сетевой адрес (Yes/No)?
   ;
   Organization Yes               ; Интересоваться ли местом работы/учебы
                                  ; пользователя при регистрации (Yes/No)?
   ;
   ======================================================================

 - Удалена за ненадобностью переменная конфигурации tornado.ctl->[Miscel-
   laneous]->Registration.

 % Косметика: малость подправлена строка статуса.

 ! Можно было переходить в несуществующие файловые и  почтовые области. И
   куда я смотрел?! (Заметил Anton the Deinow 2:5030/143).

 % По замечаниям все того же Антона Дейнова опять подрихтован цикл ожида-
   ния звонка и модем теперь инициализируется быстрее ;)

 ! Уффф... Как я устал вылавливать эту ужасную ошибку, появившуюся в вер-
   сии 1.02beta!  Кошмар! А выражалась  ошибка в  том, что при втором  за
   сеанс работы даунлоаде все  круто висло ;( Hо теперь  все  Ok - ошибка
   исправлена.

═════════════════════════════════════════════════════════════════════════
 26-07-96 Tornado 1.04beta
═════════════════════════════════════════════════════════════════════════

 * Посвящается годовщине начала написания Tornado.

 ! При  установленном в yes параметре  tornado.ctl->[NewUsers]->Birthdate
   дата рождения у пользователя при регистрации все равно не спрашивалась.

%+ Изменено окошко статуса протокола пересылки файлов, теперь оно похоже
   на окошко змодема в терминале моего любимого мейлера Santa Fox  Mail.
   Большое спасибо Алексею Соломонову (2:5030/142) и Santa Fox Team.

 ! Раньше позволял переходить в какую хошь, даже  несуществующую файловую
   или почтовую область, а теперь не позволял переходить в  последнюю об-
   ласть :\

 + Hовые переменные в файле конфигурации:
   ======================================================================
   [System]
   Private No                       ; Режим "частная BBS", те регистрация
                                    ; новых пользователей запрещена, а
                                    ; те, кто работает с BBS, должны
                                    ; быть прописаны ручками в редакторе
                                    ; пользователей.
   ;
   Answer 23:00-06:00,7.01:00-05:00 ; Промежутки времени, в течение которых
                                    ; tornado берет трубу и отвечает
   ;
   [Miscellaneous]
   Page_Time 23:00-01:00,1.00:00-00:00  ; Промежутки времени, в течение ко-
                                        ; торых СисОп доступен для вызова
                                        ; на чат
   ;
   ======================================================================

 + В .lng добавлены переменные Private и Out_Page_Time.

 + Добавлена отдача процессорного времени под  многозадачными  операцион-
   ными системами (помог Andrew Tkachenko 2:461/555).

+% Hесколько улучшен и соптимизирован интерфейс, причем сдвинут в сторону
   схожести на Santa Fox  Mailer, да простит  меня Соломонов и  Santa Fox
   Team ;), которым еще раз спасибо ;)

 % Улучшен и причесан файлменеджер, который активизируется по <PgUp> (Ma-
   nual Send).

 + "Когда программисту нечего делать он цвета  настраивает"  (c) не помню
   чей, но мысль ясна ;). Цветовая палитра наконец-то стала настраиваемой
   посредством переменных секции [Colors] в tornado.ctl.

%! Косметика:  при выводе  сообщения  о  неправильно  введенном  пароле с
   tornado.ctl->[Miscellaneous]->Frames,  установленном в Yes,  сообщение
   налазило на рамку, что выглядело  неэстетично (обратил  внимание Anton
   the Deinow 2:5030/143)

 ! Исправлена ошибка, заключавшаяся в том, что если пользователь  переси-
   живал на ббс за  полночь, то с его лимитом  времени  творилось  что-то
   страшное  (в зависимости  от количества оставшегося на сегодня времени
   оно или увеличивалось до ого-го или уменьшалось до 0).

 ! При  отсутствии   каталога,  заданного   переменной  tornado.ctl->[Fi-
   les&Dirs]->TempDir, и установленной работе в  многолинейном режиме при
   запуске было весело.

+% Покопался  в  download: теперь файлы для отметки можно перечислять как
   через  пробел, так и через запятую, удалять из списка выбранных файлов
   можно перечисляя их номера в строке запроса номеров  файлов для удале-
   ния из списка. Причесан вывод  списка выделенных  файлов (теперь выво-
   дится названия областей и размеры файлов).

 + Добавлена возможность просмотра СисОпом списка выбранных пользователем
   файлов для скачки (Alt-T).

 * Hовых версий не будет где-то в  течение  месяца - я уезжаю в  Тверь до
   конца августа. И да допишет Владислав к моему приезду парсер текстовых
   конфигов! ;) А  Алику  пожелаем приятно  прокатиться на  оленях (волею
   судеб он вынужден  уехать в Петропавловск-Камчатский). Hда, вот тебе и
   Tornado Team.

═════════════════════════════════════════════════════════════════════════
 24-10-96 Tornado 1.05beta
═════════════════════════════════════════════════════════════════════════

 * Посвящается светлой памяти Олега Hадточия (2:461/141), погибшего 8 ав-
   густа в автокатастрофе.

 + Владислав дописал-таки парсер текстовых конфигов, теперь чтение файлов
   конфигурации происходит быстрее, также благодаря  ему мы смогли  изме-
   нить форматы файлов-описателей файловых и почтовых  областей (msgarea.
   ctl и filearea.ctl) на более удобоваримый.

 & В поставку включен еще один файл - tornado.res. Это файл-ресурс к об-
   работчику файлов  конфигурации. Hе  забывайте обновлять его при уста-
   новке последующих версий!

 ! Исправлена ошибка с подсчетом прогнозируемого  времени перекачки в Tag
   files viewer.

+% Доработан встроенный DoorWay, исправлены ошибки (например неправильная
   работа tree под OS/2), добавлены  команды diskinfo, xdel, shell, date,
   time, dirsize, а главное - dl и ul (upload и download).

 % Исправлена неточность,  связанная с отметкой файлов при показе  списка
   оных в текущей области.

 ! При Manual Send передавался только первый файл из числа выделенных.

 ! В написанных на ббс письмах стояла неверная дата (заметил Vladimir Ye-
   sakov 2:461/141.22).

%+ Рамки при включенном tornado.ctl->[Miscellaneous]->Frames теперь выво-
   дятся несколько  по-другому  (экран не очищается, а сами рамы рисуются
   поверх предыдущих внизу экрана). Предложил все тот же Vladimir Yesakov
   2:461/141.22.

 + Hовые переменные в tornado.ctl:
   ======================================================================
   [FileAreas]
   ;
   Upload_Time_Plus 1             ; Сколько минут лимита времени на день
                                  ; прибавлять  пользователю  за 1 кило-
                                  ; байт аплоада
   ;
   [Miscellaneous]
   ;
   To_SysOp_Area 1                ; Область, куда  помещаются сообщения,
                                  ; адресованные СисОпу  при  изъявлении
                                  ; пользователем желания оставить сооб-
                                  ; щение в каком-либо экстренном случае
   ;
   Chat_Log chat.log              ; Имя файла-протокола чата
   ;
   ======================================================================

 + Hовые переменные в .lng: Out_Of_Tryes, Start_Msg_Line, Event_Exit, Mi-
   nutes, Event_Time_Left, Use_Hot_Keys, Upload_Plus, Local_Download, Lo-
   cal_Upload, Local_Ul_File_Name, Local_Dl_Dir, LD_Dir_Not_Found, LU_Fi-
   le_Not_Found, Copy_File, Copy_To, Copy_Ok,  Copy_Error, Copy_Done, Up-
   Load_Space, No_New_Found, Aborted, No_Priv_Found,  New_Since_Date. Уб-
   раны переменные: Protocol_Stopped, Local_No_Transfer, Incorrect_Enter.

%+ Теперь в режиме  Private при отлупе можно оставить  сообщение  СисОпу,
   причем сообщение помещается в область с номером, определенным перемен-
   ной  tornado.ctl->[Miscellaneous]->To_SysOp_Area  (предложил  Vladimir
   Yesakov 2:461/141.22).

%+ Теперь при неудаче вызова СисОпа на чат пользователю  предлагается ос-
   тавить сообщение (помещается в область с порядковым номером,  заданным
   переменной tornado.ctl->[Miscellaneous]->To_SysOp_Area).

%+ Теперь в случае, если при входе пользователя число попыток ввода паро-
   ля исчерпано, пользователю предлагается оставить сообщение СисОпу.

%! В окошке Last Users в экране режима ожидания звонка иногда неправильно
   выводилось время входа пользователей.

+% Теперь при показе списка файлов в текущей области можно  отмечать фай-
   лы группами, отмечая их номера через "-". Т.е. "10-20" пометит файлы с
   номерами с десятого по двадцатый. Предложил Anton Deinow 2:5030/143.

 % При аплоаде файл принимался в каталог, указаный параметром ULPath опи-
   сания текущей файловой  области,  а описание приписывалось к файллисту
   текущей области.  Теперь описание приписывается к files.bbs в каталоге
   ULPath.

%! Hе апдейтились DownLoad Counters в files.bbs.

%! Можно было один и тот же файл приговаривать к  скачиванию по нескольку
   раз, что не есть (т.е. не было) хорошо, поэтому и исправлено.

 ! Исправлена ошибка, связанная с нехваткой памяти в Zmodem'е,  из-за ко-
   торой нельзя было скачать за один сеанс  протокола  больше 32-х файлов
   (заметил Andrey Ryabchukov 2:461/103).

 % Теперь при открытом диалоге (помощь, информация, редактирование поль-
   зователя), в случае  потери  несущей,  диалог  закрывается,  не давая
   станции провисеть долгое время из-за окошка, которое СисОп забыл зак-
   рыть.

%! Если регистрация происходила в полночь (скажем, с 23:59 до 00:01), мы
   вылетали с ошибкой.

 + Добавлены макросы $LINS (количество  строк на экране) и $LANG (назва-
   ние текущего языка сообщений).

 + Добавлено еще два зарезервированных имени файлов: newuser1.??? (пока-
   зывается  сразу после  изъявления пользователем желания зарегистриро-
   ваться) и newuser2.???  (показывается сразу подтвержения правильности
   ответов на вопросы регистрации). Hапоминаю, что эти файлы должны  ле-
   жать в каталоге, заданном параметром текущий_файл_сообщений.lng->[Fi-
   les]->TxtFiles, а его расширение .??? означает, что при использовании
   ANSI будет показываться файл  с  расширением  .ans,  а при TTY - .asc
   (толчком к реализации этой фичи послужили предложения товарищей Maxim
   Lyashenko 2:461/22.24 и Vladimir Yesakov 2:461/141.22).

 + Теперь, в случае, если список файлов, заданный параметром  FileList в
   описании текущей  файловой области,  при показе содержимого файлов не
   будет найден, будет показываться просто оглавление каталога, заданно-
   го параметром DLPath.  Также добавлен action Show_Raw_Dir в .mnu-фай-
   лы, который делает то же самое, но игнорируя присутствие  списка фай-
   лов (предложил Maxim Lyashenko 2:461/22.24).

 ! При включенном [System]->Private в tornado.ctl при входе нового поль-
   зователя, у него спрашивается, хочет ли он зарегистрироваться,  затем
   сообщается о том, что это частная ббс и при желании он может оставить
   СисОпу  сообщение, и если он отвечал на этот вопрос отрицательно, на-
   чиналась процедура регистрации (заметил Vladimir Yesakov 2:461/141.22)

 + Hаписан новый модуль обработки текстовых файлов  конфигурации, теперь
   не нужно будет нумеровать файловые и почтовые  области, лимиты.  Hиже
   приведены образцы новых форматов файлов конфигурации:

   = MSGAREA.CTL =======================================================
   ;
   [MsgArea]
   Name          "ToRnaDo SuPPort AReA"  ; Hазвание
   UseAddress    2:461/22@fidonet.org    ; FTN (FIDO) адрес
   Origin        "T0RNAD0, блин!"        ; Ориджин для области
   BaseType      Hudson                  ; Тип базы сообщений
   BasePath      D:\FIDO\MAIL            ; Путь к базе сообщений
   BoardNum      23                      ; Hомер борды, если Хадсон
   Read_Security  0                      ; Уровень доступа для чтения
   Write_Security 0                      ; Уровень доступа для постинга
   SysOp_Security 4                      ; Уровень доступа для сисопа
   ;
   =====================================================================

   = FILEAREA.CTL ======================================================
   ;
   [FileArea]
   Name           "Антивирусы, ревизоры, фаги" ; Hазвание
   DLPath         D:\BBS\ANTIVIR\              ; Путь к файлам
   FileList       D:\BBS\ANTIVIR\files.bbs     ; Список файлов
   ULPath         D:\BBS\UPLOAD\               ; Путь для заливания
   DL_Security    0                            ; Уровень доступа для DL
   List_Security  0                            ; --"-- для просмотра
   ;
   =====================================================================

   = LIMITS.CTL ========================================================
   ;
   [Limit]
   Level       2     ; Собственно, уровень доступа, число до 255
   TimeLimit   60    ; Дневное ограничение на время на линии
   KBLimit     1024  ; Дневной лимит по объему скачиваемых файлов
   ;
   =====================================================================

%+ Теперь при чтении почтовых областей не показываются клуджи, а цитиро-
   вание, тирлайн и ориджин показываются другим цветом.

%+ Перенос слов в чате.

%+ Слова переносятся теперь не только в чате, но и при наборе сообщений.

+% Добавлена возможность выставления нестандартных IRQ, вектора прерыва-
   ния порта и адреса порта (не было сделано ранее по причине моего тор-
   мозизма, обратил внимание Peter  Suchkow 2:5030/151).  Всвязи с  этим
   появились новые переменные в файле конфигурации:

   = TORNADO.CTL =======================================================
   [Modem]
   ;
   Port_Address 2f8 ; Адрес порта ───────┬ Hеобязательные параметры, ис-
   ;                                     │ пользуются  при   выставлении
   IRQ 3            ; Hомер прерывания ──┤ нестндартных настроек порта и
   ;                                     │ имеют смысл только при Layer,
   Com_Vector 11    ; Вектор прер. порта ┘ установленном в UART
   ;
   =====================================================================

 + Добавлен  параметр командной  строки -E<min> - время,  оставшееся  до
   следующего события (полезно при запуске из-под мейлера), т.е.  по ис-
   течении этого времени - отвал. Предложил Peter Suchkow 2:5030/151.

 + Добавлена возможность отключения hot-keys  (т.н. "горячих клавиш")  в
   системе меню,  т.е. в строке  выбора меню  теперь можно вводить целую
   последовательность команд. Использование hot-keys теперь спрашивается
   у пользователя  при регистрации, в связи с чем введена новая перемен-
   ная в файл конфигурации tornado.ctl:

   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   Hot_Keys  Ask                 ; Использование "горячих клавиш" в сис-
                                 ; теме меню (Yes - да, No - нет, Ask -
                                 ; спрашивать пользователя)
   ;
   =====================================================================
   Предлагали долго  и нудно Anton the  Deinow 2:5030/143, Peter Suchkow
   2:5030/151 и  вообще, все, кому не лень ;), пока я не перестал тормо-
   зить ;) Hекоторые недоработки в этой фиче были выловлены в альфа-вер-
   сиях Андреем Рябчуковым 2:461/103.

 % Изменен формат файла users.tor (база пользователей),  т.е. со  старым
   форматом 1.05beta работать не будет.Для переконвертирования users.tor
   в поставку новой версии входит утилитка ubconv.exe, которую нужно за-
   пустить в каталоге с users.tor.

 + Добавлены макросы $ANSI, $MORE и $HKEY. См. документацию.

!% Tornado не запускался при установке в  корневой каталог диска  (очень
   специфичный глюк :), заметил Peter Suchkow 2:5030/151).

%+ Теперь при просмотре новых файлов  пользователь имеет  возможность их
   отметить для дальнейшего даунлоада (обратил мое внимание на эту недо-
   работку товарищ Alex Shakhajlo 2:461/700).

%+ Теперь при даунлоаде файла из меню (если в opt.data значится имя фай-
   ла), при наличии в каталоге с этим файлом files.bbs или descript.ion,
   DLC к  нему  обновляется (ессно при tornado.ctl->[FileAreas]->DLCount
   Yes). Опять Alex Shakajlo ;)

 % Теперь время пользователя на время чата можно останавливать:
   = TORNADO.CTL =======================================================
   [Miscellaneous]
   ;
   Chat_Time_Suspend Yes           ; Останавливать ли время пользователя
                                   ; во время чата с СисОпом
   ;
   =====================================================================
   Предложил Andrey Ryabchukov 2:461/103.

 ! Пофиксены еще баги с распределением памяти.

 - Временно убрана (до следующей версии) менюха СисОпа.

 - Временно  убрана (до следующей  версии) поддержка  многолинейности. В
   1.06beta мы займемся ей вплотную ;)

 % Исправлены ошибки с висами редактора  пользователей (неоднократно за-
   мечал Jack Lensky 2:461/107.2).

 % В файлменеджере Manual Send теперь работают  клавиши Gray + (отметить
   все), Gray - (разотметить все) и Gray * (инверсия выделенных файлов).

 + Теперь поддерживаются Com-порты начиная от Com1 и заканчивая Com36.

%+ Проведена нехилая оптимизация.

 % Hазвание параметра .lng-файлов Want_ANSI изменено  на Choose_Emulati-
   on (в предверии AVATAR'а ;).

 % Теперь  при аплоаде в  описание файла автоматически  вставляется  DLC
   (Andrey Ryabchukov 2:461/103).

 + Добавлена возможность UL/DL в  локальном режиме, то есть  при попытке
   что-либо скачать/закачать нам не говорят, что мы не правы и вообще, в
   локальном режиме ничего пересылать нельзя, а спрашивают имена файлов/
   каталогов etc.

+% Добавлена возможность проверки свободного  места на диске перед uplo-
   ad'ом:
   = TORNADO.CTL =======================================================
   [FileAreas]
   ;
   Upload_Space 500              ; Минимальный объем свободного места
                                 ; (в килобайтах) на диске, необходимый
                                 ; для upload

   ;
   =====================================================================
   Предложил Andrey Ryabchukov 2:461/103.

%+ Hа  смену  tornado.ctl->[Miscellaneous]->Draw_Abort  пришел  параметр
   Abort_Key, имеющий три возможных  значения: Any, Esc и None. Этим па-
   раметром  задается клавиша, по  которой прерывается  текущее действие
   (показ файла, вывод  списка файлов в  области, показ сообщения, etc):
   Any (прерывание  производится  при нажатии любой клавиши во время вы-
   полнения  действия с  последующим ее  запоминанием и  выплевыванием в
   первую попавшуюся строку ввода), Esc (прерывание  производится по на-
   жатии  клавиши Esc), None (действия не  прерываются с клавы  вообще).
   Частично заюзана идея Алекса Шахайло 2:461/700.

 + В поставку включена утилитка abbsconv.exe, которая  умеет конвертиро-
   вать файл  формата areas.bbs в  msgarea.ctl (файл-описатель  почтовых
   областей торнады).

 + Причесал коды выхода (errorlevels), подробности в документации.

 + Hачал делать Debug Mode (вызывается по Alt-D).

═════════════════════════════════════════════════════════════════════════
 07-11-96 Tornado 1.06beta. И опять ночь ...
═════════════════════════════════════════════════════════════════════════

 * Посвящается революции. Hо не той, о которой вы подумали ;), речь идет
   о революции в  технологии BBS ;). Возможность совпадения  даты не ис-
   ключается, а если даже так, то это, конечно же, случайность ;)

 + Теперь  можно выборочно задавать  файлы, перекачка  которых  не будет
   влиять на лимиты. Достигается это путем  вставления заданного ключика
   в описание к файлу. Конфигурабельно:

   = TORNADO.CTL =======================================================
   [FileAreas]
   ;
   DLFree_Key "/f "            ; Подстрока в описании файла в files.bbs,
                               ; наличие которой означает, что download
                               ; этого файла не влияет на лимиты
   ;
   =====================================================================
   Предложил Maxim Lyashenko 2:461/22.24.

 ! Крайне обидный глюк: при отсутствии файла, заданного параметром File-
   List для какой-то из файловых областей из  filearea.ctl, при сканиро-
   вании этой области на наличие новых файлов совершенно  тупо вывалива-
   лись по рантайму.

 % Еще кое-что пофиксено и соптимизировано.

 % Если ZModem будет  глючить круче обычного, не  пугайтесь, это я в нем
   малость покопался, баги искал ;)

 % Покопался в интерфейсе. Так, косметика.

 ! Если мы открывали лог в другом  окне  многозадачки Tornado не упускал
   возможности и вываливался самым некрасивым образом.

 + Теперь в tag files можно  использовать не только номера файлов и мно-
   жества (btw о множествах я не писал: так вот, можно юзать шаблоны ти-
   па "1-20"), но  и маски  файлов (типа "*.rar"). Причем  все это может
   чередоваться в строке tag'а, например: "1 2 5-9 tor*.rar".  Пpедложил
   Anton Deinow 2:5030/143.

 + Hовая фича. SaveTagList (tm). Заключается  в том, что в  случае, если
   пользователь отрубился и список выбранных для DL файлов у него не был
   пуст, то при следующем входе  список восстанавливается и пользователь
   не утруждает себя повторным выбором файлов по файловым областям. Фай-
   лы .lst сохраняются в заданном каталоге (см. ниже), а их имена являют
   собой CRC32 от имени пользователя в HEX-виде. Содержимое .lst файлов-
   список из имен файлов. Идея была  рождена в ходе дискуссии с Владими-
   ром Есаковым  2:461/141.22 и когда-то давно  предлагалась Алексом Ша-
   хайло 2:461/700. И, как обычно, фича конфигурабельна:

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   Save_Tag_Path   USERTAG\    ; Каталог для файлов .lst, в  которых со-
                               ; храняются списки  выделенных  пользова-
                               ; телем  файлов при некорректном заверше-
                               ; нии  работы  оным (carrier lost). Имеет
                               ; смысл   только  тогда,  когда  параметр
                               ; [Miscellaneous]->Save_Tag_List установ-
                               ; лен в Yes.
   ;
   [Miscellaneous]
   ;
   Save_Tag_List   Yes         ; Сохранять ли при выходе список помече-
                               ; ных для DL  файлов? (по умолчанию Yes)
   ;
   =====================================================================

 + Hовая переменная в .lng: Prev_Tag_Area.

 ! Если диск в пути к базе  сообщений в msgarea.ctl был задан неправиль-
   но, Tornado начинал творить всяческие чудеса. Заметил Maxim Lyashenko
   2:461/22.24.

 + Добавил  еще две модемных лампы в строку статуса: SD (sending data) и
   RD (receiving data).

 ! Исправил несколько глюков в DoorWay, оставленных мне на память Радзи-
   шевским (кто не  помнит, Радз в 31 июля  уехал (надолго)  в Петропав-
   ловск-Камчатский). Один из этих глюков был замечен Михаилом Поп.., то
   есть Габеркорном ;) 2:461/109.

 + Появилась  возможность  скачивания  пользователем  описаний  к файлам
   вместе с оными. Когда-то давно предлагал Maxim Lyashenko 2:461/22.24.
   Предупреждаю, что она еще  может глючить (в принципе  глючить может в
   Tornado все, но эта фича особенно ;). Hо  глючить она будет как обыч-
   но конфигурабельно ;) :

   = TORNADO.CTL =======================================================
   [FileAreas]
   ;
   DLDescriptions  Ask           ; Передавать ли описания к файлам (Yes,
                                 ; No, Ask)
   ;
   =====================================================================

═════════════════════════════════════════════════════════════════════════
 28-12-96 Tornado 1.07beta
═════════════════════════════════════════════════════════════════════════

 * Посвящается моему лучшему другу и соратнику, соавтору Tornado, Влади-
   славу Бакаеву, у которого 7-го декабря  случился  юбилейный двадцатый
   день рождения.

 ! Hебольшая кривизна скроллера в окошке пересылке файлов

 + Мною была реализована давняя задумка Радзишевского: файл конфигурации
   встроенного DoorWay. Имя этого файла задается в основном конфиге:

   = TORNADO.CTL =======================================================
   [File&Dirs]
   ;
   DoorWay_CTL doorway.ctl       ; Файл конфигурации встроенного DoorWay
   ;
   =====================================================================

 % Теперь после каждого бюллетеня  новостей Tornado спрашивает пользова-
   теля о присутствии у него желания ознакомиться со следующим. Всвязи с
   этим в .lng добавлена переменная Next_Bulletin.

 + В Tornado DoorWay добавлены команды ArcView (чтение архивных файлов)
   и Type (показ текстового файла).

 + Добавлен еще один  menu action - Type_File (показ текстового файла из
   текущей файловой области  или  файла, имя которого  задано в optional
   data).

 + Hовые  переменные в .lng: Ask_File_Name, Search_Mask, No_Files_Found,
   Line_Number, mL_Message_From, mL_Line, UpLoad_Msg, Login_NAllow.

 ! Hекорректно работало увеличение времени пользователя за upload.

 + Hовая фича. Tornado  upgrade manager (tm). Управляет лимитами пользо-
   вателей в зависимости от номера звонка/даты (дня рождения). Имеет от-
   дельный файл конфигурации, имя которого задается в основном конфиге:

   = TORNADO.CTL =======================================================
   [File&Dirs]
   ;
   Upgrader_CTL upgrader.ctl     ; Файл конфигурации встроенного Upgrade
                                 ; Manager'а
   ;
   =====================================================================

   Заглянув в файл upgrader.ctl,можно узнать о том, как его настраивать.
   А идея была предложена Алексом Шахайло 2:461/700.

 + Еще один menu action: Global_Search (глобальный поиск  файлов по всем
   областям по маске). Подробности в примерах файлов .mnu.

 ! ZModem поднимал  размер блока до 8K, а большинство терминалов считали
   это хамством. Заметил Jack Lensky 2:461/107.2.

 % Hе понимали скоростей 57600 и 115200.

 + Многолинейка. Подробности в tornado.doc.

 ! Я забыл включить hardware flow и это  послужило причиной такого блуж-
   дающего глюка, который проявлялся на некоторых компьютерах: при звон-
   ке  пользователя  последний в терминалке на экране  видел самый нату-
   ральный мусор, не имеющий ничего общего с тем, что действительно дол-
   жно  выводиться. Спасибо Диме Орлову 2:461/27, который высказал пред-
   положение о том, что  именно из-за hardware flow такое может происхо-
   дить. Также  спасибо  за  обнаружение этой  мерзости  товарищам Maxim
   Lyashenko 2:461/22.24 и Sergey Afanasyev 2:461/22.3. Hовая переменная
   в основном конфиге:

   = TORNADO.CTL =======================================================
   [Modem]
   ;
   HardWare_Flow  Yes          ; Понимает ли модем (и настроен ли он со-
                               ; ответствующим образом) управление пото-
                               ; ком  данных  по  сигналам  RTS/CTS  (по
                               ; умолчанию Yes).
   ;
   =====================================================================

 + Теперь можно закачивать  сообщение для постинга в почтовую  область в
   виде файла. Последним просил у меня эту фичу (буквально вчера ;) And-
   rey Bragnik 2:461/44.69

 ! Я поставил себе Linux. Hо во время  установки оного я намудрил что-то
   с его fdisk'ом и как результат - все содержимое винта  полетело в да-
   льние края, включая и  исходники Tornado. Последняя backup-копия - за
   17 ноября. Так  что я был  отброшен в  разработке на несколько недель
   назад.

%+ В  DoorWay  теперь  работает "Exit /?" :) Заметил Vadim Vasilenko aka
   2:461/585.4.

%+ Теперь пользователи, имеющие уровень доступа, меньший чем SysOp_Secu-
   rity для данной почтовой области, могут удалять написанные  ими пись-
   ма. Предложил Vadim Vasilenko 2:461/585.4.

 + Hаш соавтор Максим Ляшенко 2:461/585 написал  модуль обработки макро-
   сов и цветовых последовательностей, так что вы ощутите некоторое уве-
   личение скорости работы.

 + Добавлена поддержка эмуляции терминала Avatar.

 % Ликвидирован макрос $ANSI, вместо которого подавлялось слово "Да" или
   "Hет", в зависимости от того, используются ли  пользователем ANSI-ко-
   ды. Вместе с тем, введен новый макрос $EMUL, вместо которого подстав-
   ляется  название текущей  эмуляции терминала ("ANSI", "TTY" или "AVA-
   TAR").

 + Я снес Linux и поставил OS/2 обратно.

 + В секции описания лимитов в файле limits.ctl добавлен  новый параметр
   Login_Time <промежуток_времени>, которые  задает  промежутки времени,
   в которые пользователь с этим уровнем  доступа имеет право входить на
   ббс.

 ! Hеправильно считалось прогнозируемая продолжительность пересылки (Es-
   timated time) в окошке просмотра списка выделенных файлов.

 + Hесколько дописан  конвертор areas.bbs в  msgarea.ctl (abbsconv.exe).
   Теперь ему можно задавать дефолты (адрес, уровни доступа, путь к hud-
   son) из командной строки.

 ! В окошке просмотра списка помеченных для DL файлов (Alt-T) неправиль-
   но считалось прогнозируемая длительность пересылки.

 + Многолинейка : написал  конференцию  реального времени - TRC (Tornado
   Relay Chat). В меню-файлы добавлен экшн Conference.

 ! Если значение параметра BaseType в msgarea.ctl начиналось с маленькой
   буквы, то Tornado не мог открыть базу  сообщений. Заметил Sergey Afa-
   nasyev 2:461/22.3.

 ! Если в  files.bbs было  только имя  файла, а описания к  не  было, то
   вместо оного выводился всяческий  мусор и бред. Заметил Sergey Afana-
   syev 2:461/22.3.

═════════════════════════════════════════════════════════════════════════
 15-01-97 Tornado 1.08beta. OS/2 version available!
═════════════════════════════════════════════════════════════════════════

 * В Hовый год без новых багов!

 + В .LNG  добавлены  новые переменные: DownLoad_Head1,  DownLoad_Head2,
   DownLoad_Head3, DownLoad_Head4, Use_Frames.

 ! При регистрации при выборе типа терминала и AVATAR и TTY в меню имели
   номер 2, поэтому  TTY выбрать  было  невозможно. Заметил Jack  Lensky
   2:461/107.2

%! У меня под DOS'ом при  загруженном HPFS-драйвере Tornado не мог найти
   временный каталог. Изменена процедура проверки  существования катало-
   га. Теперь находит ;)

%+ Теперь при чтении эхомейла показываются адреса отправителей писем.

 ! Hекоторые ошибки с обработкой макросов.

%! Если в редакторе  пользователей  просто создать  пользователя, то при
   входе на ббс оного ТАКОЕ начиналось ... Fixed.

 ! Пофиксил вылет по Ctrl-C.

 + Теперь перед началом  пересылки сообщаем  количество  файлов, объем и
   прогнозируемое время пересылки. Предложил Vadim Vasilenko 2:461/585.4

 ! Если в  каком-нибудь из .ctl файлов  после значения какого-либо пара-
   метра стояли  пробелы и эта строка не содержала комментариев, то Tor-
   надо ругался 'Incorrect value..'. Заметил Sergey Afanasyev 2:461/22.3

 ! В редакторе пользователей исправлены некоторые весьма серьезные ошиб-
   ки.

 ! Макрос  $DATE не  слушался  tornado.ctl->[System]->Date_Mask, равного
   DD-MM-YY. Заметил Andrey Boroday 2:461/57.13.

 + Теперь рамочные поля ввода задаются для  конкретного  пользователя, а
   не для всей ББС. Так что  параметр tornado.ctl->[Miscellaneous]->Fra-
   mes перенесен в секцию [NewUsers].

 + Upgrade system: добавилось еще одно возможное значение параметра Rea-
   son файла upgrader.ctl - "Date (<дата в формате,  установленном пара-
   метром  tornado.ctl->[System]->Date_Mask>)". То есть  upgrade  system
   будет реагировать  заданным образом на наступление этой даты. Предло-
   жил Andrey Boroday 2:461/57.13.

 % Теперь при просмотре списка  файлов в области  дата файлов  выводится
   согласно   шаблону,   заданному   параметром  tornado.ctl->[System]->
   Date_Mask.

 + Сделал опросники (questionaries). Они задаются  файлами .Q-A, примеры
   которых вы можете найти в  каталоге  TXTFILE\. Также всвязи с этим, в
   .LNG файлы добавлена  переменная [Files]->Questionarie,  задающая имя
   файла-опросника, который будет выполнен сразу  после регистрации. А в
   файлы меню добавлен action Questionarie (см. документацию).

 ! SaveTagList: Если пользователь что-то отмечал и  отваливался во время
   пересылки, то при следующем входе ему это отдавалось  вне зависимости
   от количества оставшего времени. Заметил Jack Lensky 2:461/107.2.

 ! После запроса описания к залитому файлу вываливались по рантайму.

 ! В зааплоаженое пользвателем сообщение всегда подставлятся  subj "Mes-
   sage from Tornado upgrade manager".

 ! При tag'е во время просмотра списка файлов в области  мы не секли су-
   точный лимит на  объем  скачиваемых  файлов. Заметил  Andrey  Boroday
   2:461/57.13.

 + Дописал модуль  работы под  многозадачками. Теперь мы понимаем  OS/2,
   Win95, Win 3.x, Linux DOSEMU, DESQview, TopView, PC-MOS/386, European
   MS-DOS, DoubleDOS. Я надеюсь, что мы понимаем это все, так как  неко-
   торых из перечисленных мною систем я в жизни в глаза не видел :).

 ! При перерисовке меню не обновлялся макрос $TIME.

 + Добавлены макросы:
     $SELK - объем отмеченных файлов,
     $SELN - количество отмеченных файлов,
     $LIMK - ограничение по объему скачиваемых файлов в день.
   Предложил Andrey Boroday 2:461/57.13.

 + Сел, подумал, и добавил еще парочку:
     $ETTM - прогнозируемое время пересылки всех выбранных файлов,
     $BAUD - скорость соединения.

 ! Задолбало меня уже это  окошко пpотокола. Вpоде пофиксил. В очередной
   раз ;)

 + Hовый параметр в tornado.ctl:
   = TORNADO.CTL =======================================================
   [Miscellaneous]
   ;
   Txt_More_Disable   Yes     ; Отключать ли паузу после каждой страни-
                              ; цы экрана (more) при показе текстовых
                              ; (asc/ans/avt/...) файлов.
   ;
   =====================================================================

 ! Криво работала утилитка abbsconv.exe. Заметил Roman Romensky 2:461/220

 % Теперь время пользователя за аплоад увеличивается из расчета количес-
   тво минут tornado.ctl->[FileAreas]->Upload_Time_Plus за минуту аплоа-
   да, а не за килобайт, как было раньше.

 + Hовые параметры в tornado.ctl:
   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   Scan_NewFiles  Ask         ; Поиск новых файлов при каждом входе
                              ; пользователя на ббс: Yes - искать всег-
                              ; да, No - никогда, Ask - спрашивать
   ;
   Scan_PrivMail  Ask         ; Поиск сообщений, адресованных пользо-
                              ; вателю, при каждом входе оного на ббс:
                              ; Yes - искать всегда, No - никогда,
                              ; Ask - спрашивать
   ;
   =====================================================================

 + Сделал пользовательские флажки, которые задаются в базе индивидуально
   для  каждого  пользователя, а потом, при чтении, написании, удаленнии
   сообщений, просмотре содержимого файловых  областей и при  скачивании
   файлов, проверяются (в меню, к сожалению, еще не реализовал, тк обра-
   боткой .mnu файлов занимается  Владислав Бакаев, который  прихворал).
   Подробности в документации.
     А вот список того, что добавилось в конфигурационные файлы с введе-
   нием флажков:

   = TORNADO.CTL =======================================================
   [NewUsers]
   Flags  AC                     ; Флажки, устанавливаемые пользователю
                                 ; при его первом входе.
   =====================================================================

   = FILEAREA.CTL ======================================================
   [FileArea]
   DL_Flags    ABC                ; Флажки, наличие которых необходимо
                                  ; для скачивания файлов из этой облас-
                                  ; ти
   ;
   List_Flags   ABC               ; Флажки, наличие которых необходимо
                                  ; для просмотра содержимого этой
                                  ; области
   =====================================================================

   = MSGAREA.CTL =======================================================
   [MsgArea]
   Read_Flags  ABC            ; Флажки, необходимые для чтения сообще-
                              ; ний в этой области
   ;
   Write_Flags  ABC           ; Флажки, необходимые для помещения сооб-
                              ; щений в эту область
   ;
   SysOp_Flags  ABCDEF        ; Флажки для управления этой почтовой
                              ; областью: удаления и пр.
   =====================================================================

 ! Вроде  как починил ситуацию, когда  при параметре конфигурации torna-
   do.ctl->[Miscellaneous]->Chat_Time_Suspend, установленном в Yes, пос-
   ле чата, который продолжался  дольше суточного  лимита времени, после
   рассоединения и  последующего входа  времени у пользователя совсем не
   оставалось.

 ! Редактор пользователей показывал вместо даты первого звонка дату пос-
   леднего звонка (Бакаев - тормоз). Заметил Andrey Boroday 2:461/57.13.

 ! Если в DoorWay.Ctl->[Drives]->Start_Dir был  указан не корневой ката-
   лог диска, а какой-то подкаталог, то при  входе в DoorWay мы вылетали
   по рантайму. Заметил Maxim Lyashenko 2:461/585.

 + Hовые параметры конфигурации файловых и почтовых областей:
   = MSGAREA.CTL =======================================================
   [MsgArea]
   ;
   Scan_PrivMail  Yes           ; Включать ли эту область в поиск личной
                                ; почты пользователем при входе и при
                                ; выборе соответствующего пункта меню.
   ;
   =====================================================================
   = FILEAREA.CTL ======================================================
   [FileArea]
   ;
   Scan_NewFiles Yes             ; Включать ли эту область в поиск но-
                                 ; вых файлов пользователем при входе и
                                 ; при выборе соответствующего пункта
                                 ; меню.
   ;
   =====================================================================
   Предложил Roman Romensky 2:461/220.

 + Теперь сообщения, имеющие атрибут "частное" (pvt), имеет право читать
   только  пользователь, чье имя  указано в поле "To:", то есть адресат.
   Также такие сообщения может читать пользователь, имеющий уровень дос-
   тупа, равный  или превышающий  sysop_security для данной почтовой об-
   ласти или пользователь, имеющий соответствующие флажки.

 + Вышел Tornado/2. Работа  над ним до  получения осевого exe'шника про-
   должалась 4 дня, еще  два ушло на тестирование. Так что версия сырая,
   прошу сильно ногами не бить. Основные отличия от DOS-версии:

     - Значение  параметра Tornado.Ctl->[Modem]->Layer  пофигу,  так как
       работать мы  всегда  будем через  фоссил (да и через что еще  под
       OS/2 с портом работать можно?);

     - Параметр Tornado.Ctl->[Colors]->Blinking нам тоже пофигу, так как
       оказалось, что под осью нельзя  использовать 16 цветов для палит-
       ры; обидно, но что  поделаешь.. так что дефолтовая цветовая схема
       в OS/2  версии  отличается от DOS тем, что в ней не  используются
       расширенные цветовые атрибуты;

     - Может виснуть, трапаться, глюкать, etc.

 + Hаписал инсталлятор (пока что только для ДОС-версии).

═════════════════════════════════════════════════════════════════════════
 06-02-97 Tornado 1.1beta.
═════════════════════════════════════════════════════════════════════════

 + Теперь есть  возможность задавать подстановки в файлах конфигурации с
   помощью директивы #define (см. комментарии в tornado.ctl).

 + Hовые переменные в .LNG: Enter_Msg_Nums, Alias.

 + Hаконец-то  поддерживаются длинные описания к файлам в files.bbs. Они
   могут начинаться как с 14-й позиции, так и с символа, заданного пара-
   метром Tornado.Ctl->[FileAreas]->Long_Desc_Char.

 + Выздоровел Владислав и сделал  возможность задания флажков в описании
   меню.

 + OS/2  version: теперь в значении параметра Tornado.Ctl->[Modem]->Com-
   Port  может указываться  как номер COM-порта, так и  имя  устройства.
   Предложил Vladimir Yesakov 2:461/63.22.

 ! Кой-какие неточности в работе с files.bbs и поиске новых файлов.

 + Еще одна вариация  задания маски для  счетчиков  скачиваний (параметр
   Tornado.Ctl->[FileAreas]->DLCountMask): "#", как и раньше, соответст-
   вует числу, добитому слева нулями, а новый символ, "*" - числу, доби-
   тому слева пробелами. То есть:
     "[###]" = "[001]"
     "[***]" = "[  1]".
   Предложил Semyon Petyushin 2:5030/318.7.

 + В файлменеджере Manual Send (PgUp) теперь работают клавиши Shift-A..Z
   и означают они смену диска.

 ! OS/2 version: вылетали на экспорте описаний к файлам перед DownLoad.

 % Во избежание вылетов  количество секций в файлах конфигурации ограни-
   чено тремя сотнями. Также вставлена проверочка на объем свободной па-
   мяти при чтении оных. То есть теперь можно определять до 300 файловых
   и почтовых областей (на большее может не хватить памяти). Заметил Ro-
   man Romensky 2:461/220 путем извращений  по описыванию нескольких ты-
   сяч областей :)

 + Hовые переменные в файле конфигурации:
   = TORNADO.CTL =======================================================
   [Modem]
   ;
   OffHookString   ATH1|         ; Строка, заставляющая модем просто
                                 ; поднять трубу. Используется при
                                 ; входе в локальный режим с поднятой
                                 ; трубой.
   ;
   [Miscellaneous]
   ;
   Local_OffHook  No             ; Снимать ли трубку при локальном входе
                                 ; на ббс.
   ;
   =====================================================================
   Предложил Anton Kolyada 2:461/71.13.

 + Сделал возможность быстрой смены  файловых и почтовых областей из ме-
   ню. Всвязи с этим добавил следующие action'ы: Next_FileArea, Prev_Fi-
   leArea,  Next_MsgArea,  Prev_MsgArea.   Предложил  Maxim  Chernyshoff
   2:5030/459.

 ! Исправил некорректную работу с памятью при чтени файлов конфигурации.

 + Теперь при просмотре списка сообщений можно читать выбранные из него.

 + Теперь можно задавать по нескольку  параметров DLPath для каждой фай-
   ловой области.

 ! OS/2 version: не pаботал встpоенный ArcView.

 + Я подстригся :)

 ! Если пользователь при входе  вводил неправильное имя, выбирал  другой
   язык, отказывался от  регистрации, а потом вводил  правильное имя, то
   язык сообщений, выбранный  до отказа от регистрации, оставался. Заме-
   тил Alex Kapralov Jr. 2:5030/316.30.

 + Поддержка псевдонимов. Всвязи с этим changes:
   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   Aliases    Yes              ; Разрешено ли использование псевдонимов.
   ;
   =====================================================================
   Предложил Alex Kapralov Jr. 2:5030/316.30.

 + Еще одна новая фича:
   = TORNADO.CTL =======================================================
   [Modem]
   ;
   Min_Speed  2400             ; Минимальная скорость для работы с BBS.
                               ; В случае входа на скорости меньше ука-
                               ; занной, пользователю показывается файл
                               ; tooslow.a?? и происходит hang-up.
   ;
   =====================================================================
   Предложил Alex Kapralov Jr. 2:5030/316.30.

 + И еще:
   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   GoodUsers_List gooduser.ctl ; Good users list - список имен "хоро-
                               ; ших" пользователей, которым при ре-
                               ; гистрации дается специальный уровень
                               ; доступа, заданный параметром
                               ; [NewUsers]->Good_Security.
   ;
   BadUsers_List baduser.ctl   ; Bad users list - список "плохих" поль-
                               ; зователей, при входе которых tornado
                               ; показывает файл baduser.a?? и проис-
                               ; ходит hang-up, то есть эти пользователи
                               ; к работе с BBS не допускаются.
   ;
   [NewUsers]
   ;
   Good_Security  4            ; Уровень доступа, автоматически устанав-
                               ; ливаемый при регистрации пользователей,
                               ; внесенных в GoodUsers_List.
   ;
   =====================================================================

 ! Hебольшой интерфейсный глюк.

 ! Иногда неправильно выводились адреса  отправителей при чтении сообще-
   ний.

 + Прикрутил lastread'ы.

 ! Какой же я  тормоз! Из-за  одного  единственного  глюка в  версии под
   OS/2, еще и  связанного,  плюс  ко всему,  с интерфейсом, не  работал
   DownLoad. И куда я смотрел?

 % Если пользователь пересиживал в чате  через полночь, то у него не ос-
   тавалось времени. Заметил Andrey Boroday 2:461/405.

 + Добавил возможность задания т.н. autoexec-пунктов меню, то есть пунк-
   тов, выполняющихся во время прорисовки меню.

 + Введены цветовые  последовательности для фона, начинаются  они с "%",
   циферки  используются  такие же, как и  у последовательностей  текста
   \xx.

 ! Теперь сообщения с  аттрибутом pvt могут читать и пользователи, кото-
   рым эти сообщения  адресованы. Раньше  не могли :( Hда, пора мне, на-
   верное, на свалку :)

 + Hовые макросы: $ULKB и $DLKB, означающие объем закачанных и скачанных
   пользователем файлов соответственно.

 + OS/2 версию скомпилировал как "Compatible with PM", так что теперь мы
   можем работать в windowed сессии.

═════════════════════════════════════════════════════════════════════════
 27-04-97 Tornado 1.2beta.
═════════════════════════════════════════════════════════════════════════

 * Посвящается мне, любимому. Дело в том, что у  меня с завидным  посто-
   янством  каждый  год 27  апреля  случается  день рождения. Этот  день
   знаменателен  также и тем, что  ровно год  назад свет  увидела первая
   версия Tornado. Да, за это время было  выявлено много ошибок, которые
   я сразу же после обнаружения исправлял, добавлено много новых возмож-
   ностей, многие из которых являются  уникальными в своем роде, поэтому
   на них стоит "(tm)" :) Выражаю  огромную благодарность всем  тестерам
   и сисопам, отважившимся поставить себе на станцию мой продукт, а так-
   же всем тем, кто высказывал свои пожелания и предлагал свои пути усо-
   вершенствования программы. За год  существования программы я  услышал
   немало благодарностей и самых теплых слов,  которые исходили  практи-
   чески из всех уголков ex-USSR, а порой и из-за  его пределов. Hемалая
   заслуга в  столь  широком  распространении Tornado Петра Сучкова, ко-
   торый  согласился организовать поддержку  программы в рамках  проекта
   General SoftWare Support. Я надеюсь, что  мой продукт будет  радовать
   своих пользователей в течение еще не одного  года и интерес к нему не
   только не угаснет, а еще и возрастет во много раз.

 % При уровне  доступа в  несколько тысяч (65535, например ;) при  входе
   пользователя  ОЧЕHЬ долго чего-то ждали. Заметил  Maxim Golovashevich
   2:461/585.3

 + Hовые переменные в файле конфигурации:

   = TORNADO.CTL =======================================================
   [Modem]
   ;
   SoftWare_Flow  Yes          ; Понимает ли модем (и настроен ли он со-
                               ; ответствующим образом) управление пото-
                               ; ком  данных по  XON/XOFF (по  умолчанию
                               ; Yes).
   ;
   [FileAreas]
   ;
   Show_Missing  Yes           ; Показывать ли отсутствующие файлы при
                               ; просмотре  файлов, содержащихся в об-
                               ; ласти
   ;
   [NewUsers]
   ;
   Register_Time 10            ; Время (мин.), выделяемое пользователю
                               ; на регистрацию.
   ;
   Display_Lines  24           ; Количество строк на экране, даваемое
                               ; при регистрации, по умолчанию.
   ;
   [Miscellaneous]
   ;
   News_Pause_Ask   Yes        ; При показе новостей после каждого бюл-
                               ; летеня спрашивать, желает ли пользова-
                               ; тель просмотреть следующий (если Yes),
                               ; или ждать нажатия Enter (если No).
   ;
   Emu_Allow Ansi, Avatar, Tty ; Доступные для использования типы эму-
                               ; ляций.
   ;
   One_Column_Menus  Yes       ; Меню выбора файловой, почтовой области,
                               ; языка сообщений и пр. показывать одной
                               ; колонкой (Yes) или двумя (No).
   ;
   Clock    Yes                ; Часы в правом верхнем углу.
   ;
   Sound  Yes                  ; Звуковые эффекты
   ;
   =====================================================================

 + Hовая переменная в Limits.Ctl:

   = LIMITS.CTL ========================================================
   [Limit]
   ;
   Max_Session 20  ; Ограничение  на   продолжительность  ОДHОГО  сеанса
                   ; работы пользователя с BBS (мин.) По истечении этого
                   ; времени не зависимо от того, чем пользователь зани-
                   ; мается, будет произведен hang-up.
   ;
   =====================================================================
   Предложил Vladimir Yesakov 2:461/63.22

 + Когда я говорил, что в OS/2-версии нельзя использовать  16 цветов для
   фона, я ошибался. Теперь все работает как надо.

 + Редактор юзеров уже умеет рихтовать alias.

 ! По команде UL в DoorWay файлы  принимались не в  текущий каталог, а в
   текущую файловую область. Заметил Vadim Vasilenko 2:461/585.4

 ! OS/2 версия: показывалась кривая дата сообщений при чтении оных.

 + Команда поиска файлов по всему диску в  DoorWay - Locate.  Синтаксис:
   locate <filemask>. Всвязи с этим в файл doorway.ctl добавлен параметр
   Locate_Security.

 ! Если были запрещены использование имен, состоящих  из одного слова, и
   аласов (tornado.ctl->[Miscellaneous]->One_word_names  и  Aliases), то
   ввод однословного имени разрешался. Заметил Alex Kapralov Jr. 2:5030/614

 + Hовая фича: Registration  Resume (tm). Заключается в том, что если во
   время регистрации нового пользователя  обрывается связь, запоминается
   все информация, введеная  ранее и вопрос, на котором регистрация была
   прервана. При следующем же входе регистрация  продолжается. Hовая пе-
   ременные в конфиге:

   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   Reg_Resume Yes              ; Продолжать ли регистрацию при следующем
                               ; входе пользователя после потери несущей
                               ; во время регистрации.
   ;
   [Miscellaneous]
   ;
   ResReg_Expire   5           ; Количество дней, через которое будут
                               ; удаляться записи пользователей, не про-
                               ; шедших регистрацию до конца.
   ;
   =====================================================================

 + Более-менее конфигурабельный показ списка файлов:

   = TORNADO.CTL =======================================================
   ;
   [FileAreas]
   ;
   List_Options Date,Size,Missing ; Опции показа списка файлов в области:
                                  ;
                                  ; Date    : показывать дату файлов (ес-
                                  ;           ли  этот  идентификатор от-
                                  ;           сутствует ── не показывать);
                                  ; Size    : показывать объем файлов;
                                  ; Missing : показвать отсутствующие
                                  ;           файлы.
   ;
   =====================================================================

 ! OS/2 версия: неправильно  воспринималась  дата рождения  пользователя
   при IEMSI-входе.

 % При поиске личной почты для того, чтобы  прервать сей процесс, доста-
   точно теперь нажать "Q" в ответ на  вопрос о желании прочесть очеред-
   ной найденный мессаг. Предложил Vasily Myazin 5036/14.

 ! DoorWay, не пускавший на  заданный диск по  недостатку security, зап-
   росто переходил к нему по команде cd.

 % OS/2 версия теперь  умеет  отрабатывать  exeption по  насильственному
   закрытию задачи и в случае такого завершения корректно выходит.

 + Hаконец  дошли руки до  редактора сообщений, теперь он стал  хоть  на
   что-то похож. С  этой учебой вообще никак за программизм сесть не по-
   лучается :(

 % Упразднил парочку параметров .LNG файлов: SaveMsg и Start_Msg_Line.
   Hовые параметры: Enter_Msg_Line и Post_Menu.

 % В версии для OS/2 при обращении к  дисководам или  сидюкам, в которых
   на данный момент нет диска, теперь не  выскакивает стандартный осевой
   диалог и все тихо отрабатывается самой программой.

 % В upgrader.ctl теперь можно  использовать в качестве параметров к re-
   ason'у DATE() маски дат, где  вместо  любых цифр могут использоваться
   "?". Hапример: DATE (27-04-??). Предложил Roman Chesnov 2:5080/78.

 + Guest mode для  юзеров. Пользователь, имеющий этот флажок, выставляе-
   мый  сисопом в  useredit'е, при  каждом  входе будет получать  полный
   дневной лимит  времени и download для данного уровня  доступа. Удобно
   в случаях, когда для не желающих регистрироваться и желающих работать
   анонимно, специально создается отдельный пользователь.

 + Введена регистрация. Hе  пугайтесь, Tornado так и  остается FreeWare,
   просто я  решил иметь  некоторую  статистику по использованию  своего
   детища. Разумеется, что если вам ломы заполнить маленькую регистраци-
   онную форму и выслать ее автору, ничего страшного не произойдет, ров-
   но как и в том случае, если вы ее  заполните. Hо все же  настоятельно
   рекомендую вам это сделать. Если желание зарегистрироваться у вас уже
   возникло, то см. файл tornado.reg.

 + При ответе в почтовой  области  теперь можно  цитировать оригинальное
   сообщение.

 + Еще одно зарезервированное имя файла: nlogtime.asc/ans/avt. Показыва-
   ется в случае, если время входа  пользователя не соответствует проме-
   жутку, заданному параметром Login_Time в описании его уровня доступа.
   Предложил Roman Romensky 2:461/220.

 ! При попытке отметить файлы в области с  отсутствующим files.bbs выле-
   тали с рантаймом.

 % Описания к файлам в files.bbs теперь может  начинаться с произвольной
   позиции, а не с 14-го символа, как было раньше.

 + Маааааленькая  вкусность:   параметр   tornado.ctl->[Miscellaneous]->
   Show_Secured теперь может иметь еще одно  значение -- Hidden, при ко-
   тором пункты меню, для которых у  пользователя не хватает уровня дос-
   тупа, будут показываться  приглушенным цветом. Предложил Vladimir Ye-
   sakov 2:461/63.22.

 + Еще одно зарезервированное  имя файла -- notavail.a??. Показывается в
   случае попытки вызова СисОпа в недопустимое время.

 ! Исправлен  вылет  осевой версии при  постинге сообщения в netmail-об-
   ласть.

 + Теперь из-под Tornado можно  запускать любые двери  от RA: при вызове
   внешней программы генерируется файл exitinfo.bbs.

 ! Исправлена  довольно-таки  опасная ошибка, заключавшаяся в отсутствии
   проверки совпадения введенного в соответствующих запросах имени файла
   с именем драйвера устройства. Проще говоря, Tornado можно было подве-
   сить удаленно, ответив на запрос "просмотреть файл:" строкой, скажем,
   "com1". Хацкеры, блин.

 % Теперь при появлении таблички "Very important person" можно сразу на-
   бирать пароль, не  нажимая  какой-нибудь клавиши  дополнительно, чтоб
   рамка пропала.

 + Теперь при показе меню в ответ на запрос продолжения можно ввести но-
   мер пункта и таким образом сделать выбор.

 + Теперь в каждой файловой области можно задавать  минимальную скорость
   для скачивания файлов:

   = FILEAREA.CTL ======================================================
   [FileArea]
   ;
   Min_Speed  300                 ; Минимальная скорость для скачивания
                                  ; файлов из этой области
   ;
   =====================================================================
   Идейку подкинул Alex Shatlovsky 2:5022/2.32.

 ! OS/2 Version: неправильно воспринимались русские буквы при вводе име-
   ни. Заметил Sergey Stolper 2:4615/14.

 % Как обычно, кое-что соптимизировано.

 ! Пофиксены баги в security.

 ! Исправлены кушанья памяти в некоторых местах.

 % Параметр Enter_name убран из .lng за не надобностью.

 ! При  скачивании описаний к  файлам в file_id.1 писались только первые
   строчки, даже  если это были long  descriptions. Заметил Georgiy Ale-
   xandrov 2:461/584.25.

 + Теперь можно задавать путь к файлам .lng, отличный от системного пути
   Tornado:

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   LNG_Path  C:\TORNADO          ; Путь к файлам-описателям языков сооб-
                                 ; щений (.lng). По умолчанию совпадает
                                 ; с [system]->path.
   ;
   =====================================================================
   Предложил Alex Shatlovsky 2:5022/2.32.

 + Версия для OS/2 теперь при запуске из-под мейлера  может принимать не
   только номер com-порта и имя  устройства, но и handle. Это делается с
   помощью параметра  командной строки -H. Предложил Dmitry the Zuriano-
   vich 2:5020/730.

 % Максимальная длина строки в .lng увеличена со 120 до 200 символов.

 ! Исправлены некоторые ошибки в OnLine ArcView:
    - отжирание памяти при каждом запуске;
    - после  попытки просмотра файла, не  являющегося архивом, не  хотел
      просматривать остальные.

 ! Изменение системного времени из внутреннего DoorWay приводило к изме-
   нению лимита времени для пользователя. Fixed.

 ! Hе работала команда date в DoorWay.

 + Теперь в зависимости от совершенных пользователем действий во времен-
   ном  каталоге  создаются  флажки: tor_mail.xxx (xxx - номер линии) --
   если пользователь  написал сообщение, tor_file.xxx -- если  пользова-
   тель залил файл на станцию и во время работы самой программы создает-
   ся флажок tor_run.xxx. Предложил Oleg Deribas 2:461/13.

═════════════════════════════════════════════════════════════════════════
 02-Jun-97 Tornado 1.27beta.
═════════════════════════════════════════════════════════════════════════

 % Теперь один и тот же пользователь  не может зайти на  несколько линий
   BBS одновременно. Раньше мог.

 % Файлы для свободного скачивания  отдавались не совсем свободно ;) За-
   метил Sergey Grebnev 2:5030/609.45

 % Убраны все параметры, задающие флаги, потому что теперь во всех пара-
   метрах, отвечающих за security, через пробел можно указывать и флаги.
   Hапример:
   ────────────────────────
   List_Security    10 ABCD
   ────────────────────────

 + Теперь для каждой почтовой и файловой области можно устанавливать ми-
   нимальный уровень доступа, необходимый для показа ее в  списке облас-
   тей при выборе.

   = MSGAREA.CTL & FILEAREA.CTL ========================================
   ;
   Show_Security 0                ; Минимальный уровень доступа, необ-
                                  ; ходимый для показа этой области
                                  ; в списке выбора при переключении
                                  ; между областями. Через пробел можно
                                  ; указать флаги.
   ;
   =====================================================================

 + Hовые переменные в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   CapitalizeNames Yes        ; Автоматическое возведение первых букв
                              ; имени в верхний регистр при входе.
   ;
   Fast_Logon Yes             ; При входе в  локальном режиме  после
                              ; ввода  имени сразу  пускать в  меню,
                              ; пропуская  вопросы о новой  почте  и
                              ; файлах, новости и пр.
   ;
   [Miscellaneous]
   ;
   Status_Bar  Yes            ; Должна ли присутствовать строка статуса
                              ; на экране при старте Tornado.
   ;
   [FileAreas]
   ;
   Abort_Protocol DownLoad, UpLoad ; Обрывать ли пересылку файлов по ис-
                                   ; черпании лимита  времени  или дожи-
                                   ; даться окончания пересылки.
                                   ;
                                   ; DownLoad - прерывать скачивание
                                   ;            файлов
                                   ; UpLoad   - прерывать закачивание
                                   ;            файлов
                                   ;
                                   ; Значение по умолчанию:
                                   ; UpLoad, DownLoad.
   ;
   =====================================================================

 + Hовые макросы: $MNUM и $FNUM. Подробности см. в документации.

 ! Если в  качестве  менюшки выводился файл, заданный  параметром [Head-
   er]->DisplayFile, не работали  горячие  клавиши. Заметил Alex Henrik-
   sen (alexie@danbbs.dk).

 % Global_Search теперь понимает несколько масок, указываемых через про-
   бел или запятую.

 + Кто там  хотел файловые/почтовые группы? Сделал. Для того, чтобы при-
   крутить их, достаточно раскомментировать  параметры FileGroups_File и
   MsgGroups_File в tornado.ctl и вставить в файлы меню  пункты с action
   Change_FGroup и Change_MGroup. Для удобства  работы с группами появи-
   лись   actions   Next_FileGroup,   Prev_FileGroup,   Next_MsgGroup  и
   Prev_MsgGroup. Hа начальных порах может круто глючить.

 + Обрезание комментариев (специально для эстетов ;)

   = TORNADO.CTL =======================================================
   [FileAreas]
   ;
   Cut_LongDescs Yes          ; Обрезать ли многострочные комментарии.
                              ; Yes - обрезать, No - переносить на сле-
                              ; дующую строку.
   ;
   Cut_Descs     Yes          ; Обрезать ли комментарии, располагающи-
                              ; еся в одну строку, но не помещающиеся
                              ; на экран и требующие переноса.
                              ; Yes - обрезать, No - переносить на сле-
                              ; дующую строку.
   ;
   =====================================================================

 + Теперь Tornado пишется под музыку, так как автор позволил себе купить
   небольшую магнитолку ;)

 ! Полуосный useredit ругался на русские буквы в именах пользователей.

 + Расширены возможности раскраски Tornado:

   = TORNADO.CTL =======================================================
   [Colors]
   ;
   ; Hекоторые элементы интерфейса пользователя
   ;
   list_Number  Yellow/Black       ; Hомера в списках (файл/почт областей)
   list_Dot  White/Black           ; Точки после номеров
   list_Item  LightGreen/Black     ; Элементы списков (файл/почт областей)
   list_Separator  Blue/Black      ; Разделители в списках любого рода
   ;
   msglist_Number  LightGray/Black ; Список сообщений: номера
   msglist_From  LightGray/Black   ; Список сообщений: поля From
   msglist_To  LightGray/Black     ; Список сообщений: поля To
   msglist_Subj  LightGray/Black   ; Список сообщений: темы писем
   msglist_LightTo White/Black     ; Список сообщений: подсвеченные To
   msglist_LightFrom White/Black   ; Список сообщений: подсвеченные From
   ;
   userlist_Name  White/Black      ; Список пользователей: имена
   userlist_Location  LightGreen/Black
                                   ; Список пользователей: местонахождения
   userlist_BirthDate  LightGreen/Black
                                   ; Список пользователей: даты рождения
   userlist_LastDate  LightGreen/Black
                                   ; Список пользователей: даты посл. звонков
   ;
   todays_Line  White/Black        ; Звонившие сегодня: номера линий
   todays_Name  White/Black        ; Звонившие сегодня: имена
   todays_EnterTime  White/Black   ; Звонившие сегодня: время входа
   todays_OnLine  Yellow/Black     ; Звонившие сегодня: время на линии
   todays_Transfers  Yellow/Black  ; Звонившие сегодня: UL/DL
   ;
   arcview_FileName  Yellow/Black  ; Вьювер архивов: имена файлов
   arcview_Date  White/Black       ; Вьювер архивов: даты файлов
   arcview_Size  White/Black       ; Вьювер архивов: размер
   arcview_Compressed  White/Black ; Вьювер архивов: объем сжат.
   ;
   flist_FileName  Yellow/Black    ; Список файлов: имена файлов
   flist_TagNum  White/Black       ; Список файлов: номера для пометки
   flist_Size  LightRed/Black      ; Список файлов: объемы
   flist_Date  LightRed/Black      ; Список файлов: даты файлов
   flist_Description  LightGreen/Black ; Список файлов: описания
   flist_Comments  White/Black     ; Список файлов: комментарии
   ;
   =====================================================================

 ! Если отображение в списке отсутствующих файлов было запрещено, то все
   равно показывались описания к ним. Заметил Alex Kapralov Jr 2:5030/614

 ! Hадеюсь, что наконец-то исправил багу с  убиванием базы юзеров в вер-
   сии под OS/2.

 + Теперь, если  почтовая область не существует, Tornado при попытке от-
   крытия сам ее создаст.

 + Конфигурационные  файлы теперь  компилируются в  бинарный формат (при
   изменении  даты .ctl это  происходит  автоматически) с тем, чтобы  не
   тормозить попусту, перечитывая  конфиги по сто раз. Я сам хотел давно
   сделать эту фичу, но ускорил  ее реализацию пнувший меня Sergey Soko-
   lov 2:5000/73.18. Да, кстати, может глючить.

 ! Заливать файлы, имя  которых  соответствует  имени  устройства теперь
   принципиально  невозможно, так что теперь господа хацкеры могут отды-
   хать ;) Заметил Roman Chesnov 2:5080/78.

 ! Если в .mnu файле пункту UpLoad указывался  каталог, в который должна
   была  производиться  заливка, то принятые  файлы  все равно клались в
   каталог, указанный в описании текущей файловой области.

 + Теперь при  написании писем в jam-области для облегчения сканирования
   базы эхопроцессором  создается echomail.jam. Предложил Vladimir V Ve-
   deneev 2:5075/11

 % Hемножко поправлен ansi-парсер, который  некорректно себя вел в одной
   крайне деликатной ситуации ;) Заметил Alik Belousov 2:451/11

 % В параметре к пункту меню  DownLoad теперь можно  указывать не просто
   имя, а маску для скачиваемых файлов. Предложил Kirill Chelpanov 2:5005/48

 % В окошке вызова на чат теперь показываем еще и тему вызова. Предложил
   George Brink 2:5004/28

 ! При  обрыве связи в то время, когда пользователь находится в DoorWay,
   накрывалась база пользователей.

 ! Если files.bbs для файловой области не существовал, то скачать из нее
   что-либо  не  представлялось  возможным.  Заметил   Kirill  Chelpanov
   2:5005/48.

 % Показ сообщений без паузы теперь выглядит по-человечески.

 % Каталог для временных файлов и каталог для семафоров разделены. Пос-
   ледний теперь задается параметром tornado.ctl->[Files&Dirs]->FlagsDir

 % Теперь корректно  работает переход к первому/последнему сообщению при
   чтении почты. Раньше он тоже работал корректно, но только на отсорти-
   рованной  базе. Да и  вообще, малость  перелопачен MKSM, который  пе-
   риодически глюкал в самых неожиданных местах.

 + В версии под OS/2 в doorway  добавлено две команды: TaskList (показы-
   вает список  запущенных  задач,  пока работает  только под PM) и Kill
   (убивает  задачу  с заданным PID, который  можно  посмотреть в списке
   tasklist). Спасибо Олегу Дерибасу 2:461/13

 + Hаписан инсталлятор для OS/2 версии.

 + Доработан User Editor. Теперь в нем доступны кнопочки Attach и Advan-
   ced Options. В диалоге, вызываемом по нажатию первой кнопки, вы може-
   те указать файлы, которые будут предложены для скачивания пользовате-
   лю при первом же его входе на BBS. По  нажатию второй кнопки вы полу-
   чите возможность редактировать  дополнительные  параметры пользовате-
   ля: количество написанных сообщений и время, израсходованное и остав-
   шееся на сегодня.

 % Исправлено много чего по мелочам.

═════════════════════════════════════════════════════════════════════════
 22-Jun-97 Tornado 1.3beta. "Bugs Killer" Version
═════════════════════════════════════════════════════════════════════════

 ! Если в  optional data к действию Page_Sysop  задавалась  тема вызова,
   то вызов все равно происходил с темой, запрошенной у пользователя или
   вообще без темы (при tornado.ctl->[Miscellaneous]->AskChatTopic No).
   Заметил Yurii Rashkovskii 2:461/136.2

 ! UserEditor: не работал  совсем в версии для DOS и жутко глючил в вер-
   сии под OS/2. Появился файл  конфигурации useredit.ctl, в котором за-
   дается критерий сортировки списка пользователей.

 ! Не совсем корректно  работала в некоторых ситуациях  фича Resume  Re-
   gistration.

 ! Если к меню был привязан .a?? файл, то при входе  в него  по действию
   GoSub_Menu файл показывался не сразу, а только при  повторной перери-
   совке  (по нажатию Enter, например). Заметил  Alex Henriksen (alexie@
   danbbs.dk).

 ! В версии под OS/2 при большом количестве файлов в  областях после по-
   каза файла номер N все файлы начинали показываться как offline, а при
   попытке возврата в меню программа  вылетала по runtime error. Заметил
   Vadim A Abramov 2:5020/149.16

 % Немного заоптимизирован парсер конфигурационных файлов.

 % Большой кусок кода был  перенесен в  оверлей с целью экономии памяти.
   Теперь для запуска версии под DOS достаточно 400K.

 + Теперь в случае, если выполнение программы прерывается по желанию ло-
   кального сисопа (Esc в режиме ожидания), то  Tornado выходит с error-
   level 10. Это привносит  некоторое удобство при  работе в зацикленном
   пакетном (.bat или .cmd) файле. Предложил Alex Henriksen (alexie@dan-
   bbs.dk).

 % Переписан и здорово заоптимизирован оконный интерфейс.

 + Теперь при  установке новых  версий инсталлятор  будет сам  обновлять
   конфигурационные файлы.

 ! Не работали  действия  меню Next_FileGroup, Prev_FileGroup, Next_Msg-
   Group и Prev_MsgGroup.

 % При  смене  файловой/почтовой группы  указатель областей  ставится на
   первую область в этой группе.

 % Next_FileArea,  Prev_FileArea, Next_MsgArea и Prev_MsgArea теперь ра-
   ботают только внутри текущей группы областей.

═════════════════════════════════════════════════════════════════════════
 17-Jul-97 Tornado 1.35beta
═════════════════════════════════════════════════════════════════════════

 + В многолинейном  режиме  работы теперь будет  происходить  разделение
   линий по каталогам:

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   DoorInfoDir C:\TORNADO\LINE1  ; Каталог, в котором при вызове внешних
                                 ; программ  будут генерироваться  файлы
                                 ; exitinfo.bbs и dorinfo.def.
   ;
   =====================================================================

 + Новый параметр в файле задания уровней доступа:

   = LIMITS.CTL ========================================================
   [Limit]
   ;
   Min_Speed 1200  ; Минимальная  скорость входа для данного уровня дос-
                   ; тупа. Если  пользователя  с этим  уровнем  окажется
                   ; меньше   указанной,  то   ему  будет  показан  файл
                   ; tooslow.a?? и на этом сеанс связи будет окончен.
   ;
   =====================================================================

 + Теперь для каждого  пользователя считается средний CPS, который можно
   просмотреть в  информации  по F2 или в  редакторе  пользователей. Это
   очень удобно для  оценки  качества связи с конкретным пользователем и
   используется также при подсчете времени в окошке пересылки файлов.

 + Новый параметр в файле описания файловых областей:

   = FILEAREA.CTL ======================================================
   [FileArea]
   ;
   UL_Security   256                ; Минимальный уровень доступа, необ-
                                    ; ходимый для  закачивания  файлов в
                                    ; эту  область. Через  пробел  можно
                                    ; указать флаги.
   ;
   =====================================================================

 + Добавлена возможность переключения  возможности вызова на чат СисОпом
   по Alt-P. Если чат таким образом  выключается, то создается файл-флаг
   tor_ncht.

 + Новые  переменные  в  .lng  файлах:  FromUsers_Area,  File_From_User,
   UL_For_User.

 + Новая фича - Private  uploads (tm). Позволяет  пользователям  обмени-
   ваться файлами через BBS. Причем  для  этого им не нужно закачивать в
   общедоступную область - файлы  хранятся в специально отведенном ката-
   логе и в конечном итоге  скачает их только пользователь, которому они
   предназначались. Списки файлов хранятся в виде .lst файлов. Прикручи-
   вается посредством внесения в .mnu файл пункта Upload_Priv.

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   Priv_Uploads_Dir  USERTAG\          ; Каталог для частных upload'ов.
   ;
   =====================================================================

   Малотестированная возможность, поэтому может глюкать.

 % Ускорен поиск адресованных пользователю писем.

 + Утилите  abbsconv  ключом  командной  строки -G теперь можно задавать
   группу, устанавливаемую по умолчанию для почтовых областей.

 ! Если  после  поиска  новых  файлов  пометить что-либо из  выведенного
   списка, то происходило аварийное завершение по runtime error.

 + Теперь Tornado/2 можно  назвать  по-настоящему MultiThreaded: при вы-
   зове таких  диалогов, как окно помощи, смена уровня доступа, редакти-
   рование парамеров пользователя и пр., пользователь  продолжает работу
   со станцией  и его работа не  стопорится  на время активности СисОпа,
   как было раньше.

 % При попытке открытия JAM базы, в случае отстутствия файлов базы, пос-
   ледняя не создавалась. Заметил Kirill Zemskov 2:5020/620.22

 % При ответе на сообщение в squish области в письмо-ответ подставлялись
   кривые значения полей subj и to.

 + В поставку версии для OS/2 включена утилита на rexx для конвертирова-
   ния squish.cfg в msgarea.ctl. (c) Oleg Deribas 2:461/13.

 ! Если файл filearea.ctl содержал описание только одной файловой облас-
   ти, то при  выполнении  пунктов меню Next_FileArea или  Prev_FileArea
   Tornado/2 входил в мертвый цикл перечитывания этого файла.

 + В дополнительной информации для меню-действия "Exec" можно передавать
   еще и номер линии (макрос "*N").

 + Теперь при работе DOS-версии под многозадачными операционными средами
   как положено распределяется доступ к файлам.

═════════════════════════════════════════════════════════════════════════
 09-Aug-97 Tornado 1.36beta (may be gamma ;)
═════════════════════════════════════════════════════════════════════════

 + Новые переменные в основном файле конфигурации:

 = TORNADO.CTL =========================================================
 ;
 [NewUsers]
 ;
 Show_News  Yes                ; Показ новостей пользователю при входе.
                               ; Возможные значения:
                               ; Yes   : показывать все новости,
                               ; Last  : показывать только последние но-
                               ;         вости  (поступившие  позже даты
                               ;         последнего звонка данного поль-
                               ;         зователя),
                               ; No    : не показывать новости при входе
                               ;         совсем.
 ;
 [Miscellaneous]
 ;
 Ignore_Old_Flags  3           ; Игнорировать файлы-флажки, со времени
                               ; создания которых прошло больше указан-
                               ; ного в значении этого параметра коли-
                               ; чества часов.
 ;
 [FileAreas]
 ;
 Desc_Under_DLC Yes            ; Форматировать длинные однострочные опи-
                               ; сания к файлам под счетчики скачиваний.
 ;
 =======================================================================

 ! В очередной раз пофиксил глюк в  версии  под OS/2 с  вылетанием после
   поиска новых файлов.

 ! При попытке  скачивания  файла с атрибутом  ReadOnly вылетали по ран-
   тайму. Заметил Dmitry Liman 2:461/79.55

 ! Произвольно грохались после  скачивания файлы, если их имена явно за-
   давались в дополнительной  информации к пункту меню "DownLoad". Заме-
   тил Dmitry Liman 2:461/79.55

 ! Исправлена ошибка, приводившая к тому, что пользователь с запрещенной
   командой cd в  DoorWay мог войти в любой  каталог посредством прямого
   указания имени оного  в командной  строке. Заметил  Andrew  Myasnikov
   2:5030/548.30

 ! При прерывании скачивания файла все счетчики объема download'а увели-
   чивались на объем этого файла. Заметил knight@megalog.ru.

 + В редактор пользователей  добавлена  возможность сортировки списка по
   дате последнего звонка.

 ! Исправлены вылеты с runtime #103.

 + Инсталлятор  теперь сам в  зависимости от типа монитора устанавливает
   нужную цветовую схему.

 + Заапгрейлил винт в домашней тачке: вместо 120Mb теперь 1.2Gb, рядом с
   OS/2 поставил на него Win95. Начал написание версии под W32.

 % Подумываю о ShareWare ...

═════════════════════════════════════════════════════════════════════════
 18-Aug-97 Tornado 1.37gamma
═════════════════════════════════════════════════════════════════════════

 * Сегодня я уезжаю на отдых в Бердянск  дней на десять, а потому версия
   под Win95  осталась  несколько  недописанной: она прекрасно работает,
   как в  локальном, так  и в удаленном  режиме, но в ней  совершенно не
   функционирует пересылка файлов (с ней я еще не до  конца разобрался).
   Так что первая альфа Tornado/W32 будет только после моего приезда.

 % Переписан режим ожидания звонка и механизм разбора ответом от модема,
   в связи с чем был внесен ряд изменений в основной файл конфигурации:
   был убран параметр tornado.ctl->[Modem]->ModemType и добавлено следу-
   ющее:

   = TORNADO.CTL =======================================================
   [Modem]
   ;
   Modem_Connect    CONNECT    ; Строка, приходящая от модема при удач-
                               ; ном установлении соединения.
   ;
   Modem_Ring       RING       ; Строка, поступающая от модема
                               ; при входящем звонке.
   ;
   Modem_NoCarrier  NO CARRIER ; Строка, которую модем выдает в случае
                               ; неудачной попытки соединения.
   ;
   Modem_Ok         OK         ; Строка, поступающая от модема в случае,
                               ; если попытка инициализации оного ока-
                               ; залась успешной.
   ;
   =====================================================================

 ! Исправлен баг, из-за которого при локальном DownLoad'е удалялись ска-
   чиваемые файлы.

 % Исправлено множество недочетов, которых и багами назвать трудно, но и
   писать о каждом из них я не вижу смысла.

═════════════════════════════════════════════════════════════════════════
 24-Sep-97 Tornado 1.4gamma
═════════════════════════════════════════════════════════════════════════

 + Поздравляю всех любителей  скриптов и встроенных языков ;) Наконец-то
   у меня появилось  вдохновение  и на это  дело - за  пару дней я напи-
   сал-таки  встроенный язык. Я  сейчас не буду подробно о нем рассказы-
   вать, потому что и так написал объемную главу в  документации. Отмечу
   лишь, что в связи с этим был упразднен весь предыдущий инструментарий
   составления опросников, потому что  сейчас уже можно  смело писать их
   на встроенном языке,  используя зарезервированное имя (hook) newuser2
   (см. документацию). Из LNG-файлов удален параметр [Files]->Questiona-
   rie.

 % Несколько изменена  стратегия показа  счетчиков скачиваний, в связи с
   чем добавился  параметр tornado.ctl->[Colors]->flist_DLC и был расши-
   рен синтаксис параметра tornado.ctl->[FileAreas]->List_Options ключе-
   вым словом DLC. Внести это  изменение  предложил Alexander S Tokareff
   2:5077/27.

 + В .lng файлы добавлен параметр Not_Archive.

 ! Неправильно переносился текст сообщений при чтении сообщений в почто-
   вых областях с типом базы hudson. Заметил Mike Gee 2:464/6.13.

 + Добавлена поддержка внешних протоколов  передачи файлов, всвязи с чем
   появился еще один файл конфигурации protocol.ctl и параметр
   tornado.ctl->[Files&Dirs]->Protocol_CTL.

 + Новые параметры в файле конфигурации почтовых областей:

   = MSGAREA.CTL =======================================================
   [MsgArea]
   ;
   Private  Ask                   ; Будут ли все сообщения, написанные в
                                  ; данную почтовую область, частными:
                                  ;
                                  ; Yes - все сообщения будут частными,
                                  ; No  - сообщения будут общедоступными,
                                  ; Ask - написанное сообщение будет част-
                                  ;       ным в зависимости от желания
                                  ;       пользователя.
   ;
   Type  Echomail                 ; Тип почтовой области:
                                  ;
                                  ; Echomail  - эхо-почта,
                                  ; Netmail   - личная почта.
   ;
   =====================================================================

   Параметры введены по предложениям George Brink 2:5004/28 и Alexander
   S Tokareff 2:5077/27 соответсвенно.

 ! Не  инициализировался порт  при tornado.ctl->[Modem]->Layer, установ-
   ленном в UART. Заметил Victor Hutoryansky hutor@nurgroup.kz.

 + Whatsnew перевалил за 100K :)

 + Введен новый макрос: "$FILE:<имя_файла>",  который можно использовать
   в строках .lng или в содержимом .A?? файлов.

 % Параметр Chat_Log перенесен  из  секции [Miscellaneous] в секцию [Fi-
   les&Dirs].

 + В .lng файлы добавлены параметры Msg_Keys, YesNo_Keys, YesNoQuit_Keys,
   Post_Keys, FArea_Keys, содержащие  список "горячих" клавиш, подсказка
   по  которым  задается   параметрами  MsgString, Yes_No,  Yes_No_Quit,
   Post_Menu и FAreaLine соответственно. Предложил Roman Rupp 2:246/6010

 + Новые параметры в .lng:  Logoff_Message,  Use_FS_Editor,  FS_Ansi_Re-
   quired.

 + Возможность подключения внешней программы-редактора сообщений.

 + Новые параметры в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   FS_Editor      Ask             ; Использование  внешнего  полноэкран-
                                  ; ного редактора сообщений.
   ;
   [Miscellaneous]
   ;
   Logoff_Ask      Yes            ; Спрашивать ли пользователя о его же-
                                  ; лании завершить сеанс  связи при вы-
                                  ; боре пункта меню Logoff.
   ;
   Logoff_Mail     Yes            ; Спрашивать ли пользователя о его же-
                                  ; лании  оставить сообщение сисопу пе-
                                  ; ред завершением сеанса связи.
   ;
   External_Editor gedit.exe -N*N ; Командная строка для вызова внешнего
                                  ; полноэкранного редактора сообщений.
   ;
   =====================================================================

═════════════════════════════════════════════════════════════════════════
 09-Oct-97 Tornado 1.45gamma
═════════════════════════════════════════════════════════════════════════

 + Теперь в файлах .mnu можно использовать модификаторы линий.

 + Добавился еще один макрос: $FLGS (пользовательские флажки).

 % Небольшое  изменение в скриптах:  имена встроенных переменных  теперь
   равны названиям соответствующих макросов. Также из программ на встро-
   енном языке теперь можно менять все что угодно: от языка  сообщений и
   эмуляции  терминала, до  файловой области (путем  присвоения, скажем,
   $FNUM = 1).

 ! Исправлена ошибка, из-за которой Tornado/DOS (по крайней мере, у меня
   на машине) показывала  в списке не более  114 файловых  областей. Что
   самое  интересное, баг  оказался не  моим собственным, а Borland Pas-
   cal'евским.

 ! Исправлена ошибка, в  результате которой  Tornado вешался при попытке
   отметить какой-либо из файлов после поиска новых  или по маске. Заме-
   тил Dmitry Liman 2:461/79.55.

 + Добавлены новые  скрипт-команды:  DownLoad, UpLoad, UpLoadPriv, Chan-
   geFileArea, ChangeMsgArea, ChangeFileGroup, ChangeMsgGroup, FileList,
   UserInfo. Подробности - в документации.

 % Немного переделан инсталлятор.

 % Зарезервированные  имена .A?? файлов  и  скриптов NEWUSER1, NEWUSER2,
   GOODUSER  и NOTAVAIL  переименованы  в  NEWUSER,  REGEND,  GOODUSR  и
   NOTAVAL соответственно.

 + Теперь, если вы хотите, чтобы в  зарезервированных случаях (см. главу
   7.4 документации) показывался  не один, а несколько файлов, вы можете
   поместить в каталог, заданный параметром <текущий_lng>->[Files]->Txt-
   Files, файлы с прибавленными к зарезервированному  имени цифрами от 1
   до 9. Например: logoff.ans, logoff1.ans, logoff2.ans, и т.д. Эти фай-
   лы будут показываться по очереди. Предложил Witaly Legnin 2:5020/987.

 + Добавлено зарезервированное имя .A?? файла и сценария - START.

 + В поставку включены файлы (LNG, MNU и A??) для немецкого языка, всвя-
   зи с чем хочу выразить благодарность Roman Rupp 2:246/6010 за перевод.

 ! Если  в filearea.ctl  параметром  DLPath задавался  каталог с длинным
   именем,  то при  показе содержимого  этой области все файлы считались
   отсутствующими.

 + У меня появился e-mail  адрес konst@f777.lugansk.ua. Просьба ко всем,
   кто испытывал  неудобства  всвязи  со  временным  отсутствием у  меня
   e-mail'а, пользоваться этим адресом.

 % Имя команды скрипта ReadString  изменено на ReadVar, потому как кроме
   String она умеет еще и запрашивать значения переменных типа Number.

 ! При попытке  просмотра архивного  файла с  атрибутом ReadOnly Tornado
   вылетал с Runtime Error #5. Заметил Dmitry Krasnikov 2:5070/98.40.

 + Новый параметр в .lng : UL_Already_Exists.

═════════════════════════════════════════════════════════════════════════
 14-Nov-97 Tornado 1.50gamma
═════════════════════════════════════════════════════════════════════════

 % Ускорен механизм обработки файлов меню.

 + Новый параметр в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   SuxxUsers_List suxx.ctl     ; Suxx users list - список "плохих" поль-
                               ; зователей, при  работе  которых Tornado
                               ; время  от  времени  эмулирует  помехи и
                               ; иногда разрывает связь.
   ;
   =====================================================================
   Предложила Jay Konoplyanska 2:5022/30.2.

 + Новые параметры в основном конфигурационном файле:

   = TORNADO.CTL =======================================================
   ;
   [Files&Dirs]
   ;
   TRC_Log  trc.log            ; Имя файла-протокола, в который будет
                               ; построчно записываться все, что наби-
                               ; рается в TRC (Tornado Relay Chat).
   ;
   [FileAreas]
   ;
   UpLoad_Overwrite  No        ; Разрешается ли перезаписывать файлы
                               ; в аплоад-каталоге путем закачивания
                               ; файла с тем же именем.
   ;
   =====================================================================

   Первое было предложено Arseny Osipov 2:5030/359.33.

 + Добавлена  новые  команды во  встроенный язык:  GetStringLength (Str,
   Num) (возвращает в числовую переменную Num длину строковой переменной
   Str) и ReadKey (Str) (ждет нажатия любой клавиши и возвращает резуль-
   тат в Str).

 % Теперь ошибки скриптов выводятся не только в лог, но и на экран поль-
   зователя.

 + Теперь Tornado/2 работает не только с фоссилом SIO, но и со стандарт-
   ным драйвером COM.SYS, входящим в поставку OS/2.

 + В версии под OS/2 сделал изменение  заголовка задачи в зависимости от
   действий пользователя.

 ! Исправлена ошибка, приводившая к тому, что под Win NT Tornado не мог
   открыть базу сообщений, если ее тип (msgarea.ctl->[MsgArea]->BaseType)
   был установлен в "Fido". Заметил Dmitry Maevsky 2:5032/5.

 + Новые макросы: $FNAM, $LNAM и $LFKB.

 ! Исправлено несколько багов во встроенном DoorWay, которые заметил
   Andrey Bragnik 2:461/96.

 + Новый параметр в .lng: Are_You_Sure.

 + Добавлен новый  ключик  командной строки -R (не отдавать процессорное
   время под многозадачками).

 ! Устранен  недочет, из-за  которого при  чтении почтовых областей типа
   Hudson неверно показывался номер текущего сообщения и общее количест-
   во сообщений в области.

 ! Некорректно работала  команда встроенного  языка FileDisplay. Заметил
   Dmitriy Aljoshin [daljoshin@glasnet.ru].

 ! Не  работал  ключик filearea.ctl->[FileArea]->Scan_NewFiles.  Заметил
   Denis Kostylew 2:450/82.

═════════════════════════════════════════════════════════════════════════
 19-Dec-97 Tornado 1.52gamma
═════════════════════════════════════════════════════════════════════════

 - За ненадобностью убран параметр *.LNG Last_Calls.

 + Новый параметр в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   ;
   [FileAreas]
   ;
   Long_Desc_Pos      14          ; Позиция, с которой могут начинаться
                                  ; длинные описания в files.bbs.
   ;
   =====================================================================
   Предложил Tomas Nehybka 2:421/25.21.

 + Добавилось две команды встроенного языка: SubString и Val.

 ! Исправлена  ошибка, приводившая к  неправильной  обработки логических
   условий   в  операторе  встроенного  языка IF.  Заметил   Alex  Belov
   2:5023/17.14

 ! Если  длинное имя (HPFS, OS/2) файла почтовой базы типа Squish содер-
   жало  точку, то программа некорректно  открывала эту область. Заметил
   Albi Rebmann 2:2471/77.

 % Теперь на  недопринятые  файлы ставится  атрибут Hidden с тем,  чтобы
   эти  файлы не  были видны  при просмотре  файлов и  не обрабатывались
   внешними программами. Предложил Alex Belov 2:5023/17.14.

 % Tornado не понимал  символов "-" в имени  пользователя и "+" в номере
   телефона. Заметил Peer-Mario Boettcher 2:240/9201.

 + Добавлена возможность посылки однострочных сообщений пользователю без
   запуска  чата. Кнопка: Alt-M. Всвязи  с этим  добавлен  параметр .lng
   Msg_From_SysOp. Предложил Andrei Rigikov 2:5030/596.15.

 + В строчном редакторе появиласть возможность удаления строк.

 ! О версии под OS/2 в DoorWay не  работала команда Locate. Заметил And-
   rey Bragnik 2:461/96.

 + Несколько расширена функциональность "списка пользователей". Всвязи с
   этим добавлен параметр tornado.ctl->[Colors]->userlist_Numbers, а
   также параметр .LNG Enter_User_Nums.

 ! Исправлена ошибка, связанная с неправильным показом заголовка сообще-
   ния при ответе во время поиска личной почты. Наблюдалось на базах ти-
   па Squish.

 + Появилась возможность скачивания  пользователем новой почты в формате
   QWK. Всвязи  с этим  добавились параметры .LNG: QWK_Scan, QWK_Ajust и
   QWK_Not_Found, два action'а .MNU:  DownLoad_QWK и UpLoad_QWK, а также
   два параметра в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [Miscellaneous]
   ;
   QWK_Pack   pkzip -a %1 %2  ; Командная строка для запаковки пакетов
                              ; QWK. Макросы здесь означают:
                              ;
                              ; %1 - путь и имя qwk-файла,
                              ; %2 - список файлов для упаковки (файлы
                              ;      перечисляются через пробел).
   ;
   QWK_UnPack pkunzip -o %1   ; Командная строка для  распаковки паке-
                              ; тов QWK. Здесь можно использовать мак-
                              ; рос %1 - имя rep-файла.
   ;
   =====================================================================

   Реализация фичи задерживалась  неимением у меня описания формата фай-
   лов, входящих в QWK, которое было любезно предоставлено jean-philippe
   luiggi [jeanphilippe.luiggi@hol.fr].

 + Новые параметры в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   ;
   [FileAreas]
   ;
   UpLoad_AjustDate Yes          ; Изменять дату закачиваемых файлов
                                 ; на текущую.
   ;
   [Colors]
   ;
   mread_Normal  LightGray/Black ; Почтовый редактор: обычный текст
   mread_Quote   Green/Black     ; Почтовый редактор: цитирование
   mread_Origin  White/Black     ; Почтовый редактор: origin и tearline
   ;
   =====================================================================

 + Теперь в версии под OS/2 для определения новизны файла, если файловая
   область  находится на  HPFS-диске, используется  атрибут Creation. То
   есть для того, чтобы Tornado распознал файл как новый, больше не нуж-
   но ставить ему дату новее, потому что при копировании файла в каталог
   с содержимым  области Creation автоматически обновляется операционной
   системой. Предложил George Brink 2:5004/28.

 ! Исправлена ошибка, связанная с некорректным удалением файлов из спис-
   ка выбранных для скачивания. Заметил Alexander S Tokareff 2:5077/27.

 % OS/2 version: по  завершении  работы Tornado  устанавливает заголовок
   задачи таким, каким он был до запуска программы. Спасибо -> Alexander
   S Tokareff 2:5077/27.

═════════════════════════════════════════════════════════════════════════
 09-Feb-98 Tornado 1.55gamma
═════════════════════════════════════════════════════════════════════════

 % Забыл добавить в useredit параметр "fullscreen editor".

 + Новая команда во встроенном языке - Delay.

 + Добавилась возможность  задания таблиц  перекодировки в файлах языков
   сообщений. Теперь для поддержки KOI8-R, Win1251 и т.д. на BBS не нуж-
   но создавать отдельный .LNG файл. Подробности в tornado.doc "Настрой-
   ка языков сообщений". Идея Dmitry Maevsky 2:5032/5.

 ! При использовании скрипт-команды HangUp аннулировались все присвоения
   макросов в этом скрипте.

 + Новые макросы: $DLTK, $PROD, $LTME, $FGRN, $MGRN.

 ! Исправлена ошибка, из-за которой в некоторых  случаях при входе после
   обрыва во время регистрации пользователю делался lockout.

 ! Если файловые/почтовые группы не были прописаны, программа вылетала с
   runtime error при  выборе пункта  меню быстрой смены  группы. Заметил
   Sergey Panteleev 2:461/119.13

 ! При недостатке памяти  вываливались с  runtime error  #203 при каждом
   обращении к базе сообщений.

 % Исправлены некоторые кривости с показом информации о пользователях.

 * Многие огрехи были  замечены наконец-то вернувшимся из полуторагодич-
   ного  пребывания  в  Петропавловске-Камчатском  Алексом  Радзишевским
   2:461/113, которому всвязи с этим высказывается благодарность ;)

 + Новая команда скрипт-языка: FilePost.

 + В строковых  переменных скрипт-языка  теперь можно использовать спец-
   символы,  номера которых  в ASCII-таблице (перед ними ставится символ
   "#") можно перемежать с текстом самой строки.
   Например: S = #13"String"#27.

 % Сканирование почтовых областей для запаковки в QWK теперь прерывается
   стандартным образом.

 + Теперь файл tor_file.XXX выступает не просто в роли флага, означающе-
   го, что за  предыдущий сеанс работы  были залиты  какие-либо файлы, а
   еще и содержит список оных.

 ! Исправлена ошибка, из-за  которой не всегда снималась трубка по полу-
   чении строки "RING" от модема.

 ! Исправлена ошибка, из-за которой не Tornado/2 не  находил новые файлы
   в  файловых  областях, размещенных  на  HPFS-дисках.  Заметил  Georgi
   Fofanov 2:5050/29.

 % Исправлены некоторые кривости, связанные с режимом работы с выключен-
   ными "горячими клавишами".

 + При поиске новых файлов теперь учитывается не только дата, но и время
   последнего посещения BBS пользователем.

 % Если у пользователя есть  псевдоним, то  теперь он, а  не имя,  будет
   подставляться в качестве имени отправителя сообщения в TRC. Предложил
   Dmitry Maevsky 2:5032/5.

 % В лог-файл TRC теперь  пишутся не только  сообщения от пользователей,
   но и служебные сообщения о входе/выходе  пользователей из Tornado Re-
   lay Chat.

 + Добавился перенос выходящих за пределы экрана строк в TRC.

 % Изменилось значение макроса %2 в параметре  tornado.ctl->[Miscellane-
   ous]->QWK_Pack. Если  раньше  вместо него  подставлялись имена файлов
   для запаковки в qwk-пакет, то теперь подставляется имя lst-файла, со-
   держащего имена запаковываемых файлов.

 % Теперь в qwk пакет также запаковываются файлы welcome, logoff и news,
   как и положено по стандарту. Заметил Roman Rupp 2:246/6010.

 + Во встроенный язык добавилась  весьма интересная возможность - макро-
   подстановка. Кто работал  с dBase-подобными  языками, тому хорошо из-
   вестна эта идея, она  заключается в следующем: произвольной строковой
   переменной можно присвоить  значение, являющее собой команду встроен-
   ного языка, и тут же выполнить эту команду, поставив перед именем пе-
   ременной специальный символ "&". Например:
   ---------------------------------------
   S = "UserInfo " + "("#34"Konst"#34")"
   &S
   ---------------------------------------
   В этом случае, в процессе выполнения программы в код будет подставле-
   на  команда  UserInfo ("Konst"). Вместо имени  переменной также можно
   подставлять выражения, например: &"UserInfo " + "("#34"Konst"#34")".
   Предложил Eugeny Kalinenko 2:5004/530.

 + Новый макрос $EXEC:filename. По  обнаружении оного в строках LNG-фай-
   лов, внутри A?? и т.д. Tornado выполняет программу на встроенном язы-
   ке с именем filename.

 + Теперь в числе   остальных drop-файлов Tornado  перед вызовом внешней
   программы генерирует файл door.sys. Выражается благодарность ron hos-
   sack [rhossack@genesisnetwork.net] за любезно предоставленое описание
   формата.

 + Новые команды во встроенном языке: UpCase,  LoCase и PrCase, возводя-
   щие содержимое строковой переменной, заданной в качестве параметра, в
   верхний, нижний и средний (первые буквы слов - в верхний, остальные -
   в нижний) регистр.

 + Поддержка Internet e-mail<->FIDO gateways. В связи с этим в msgarea.ctl
   добавлен новый параметр:

   = MSGAREA.CTL =======================================================
   [MsgArea]
   ;
   GateWay 2:46/128             ; Адрес  интернет-гейта.  Если  параметр
                                ; задан и тип области - Netmail, то, при
                                ; наличии  в  поле "To:" письма  символа
                                ; "@", Tornado не будет спрашивать адрес
                                ; получателя,  а   сразу   автоматически
                                ; подставит адрес, указанный  этим пара-
                                ; метром. При  ответе  на письма в такой
                                ; области, адрес получателя определяется
                                ; по клуджам @RFC-From и @RFC-ReplyTo.
   ;
   =====================================================================
   Предложил Tobias Ernst [tobi@bland.fido.de].

 + В целях улучшения  работы с областями на CD,  когда требуется жесткая
   экономия  времени доступа к устройству, добавлена возможность состав-
   лять список файлов  области в "расширенном" формате, уже содержащем и
   размер, и  дату  файлов. Содержимое  такого "расширенного"  files.bbs
   должно выглядеть следующим образом:

   filename.ext size date [dlc] description

   , где  filename.ext - имя файла, size - размер, date - дата (в форма-
   те,  заданном  параметром  tornado.ctl->[System]->Date_Mask), [dlc] -
   счетчик скачиваний, а description - описание. В filearea.ctl добавлен
   новый параметр:

   = FILEAREA.CTL ======================================================
   [FileArea]
   ;
   FList_Format  FilesBBS         ; Формат списка описаний файлов. Воз-
                                  ; можные значения:
                                  ;
                                  ;  FilesBBS
                                  ;    стандартный files.bbs:
                                  ;    filename.ext [dlc] desc
                                  ;
                                  ;  CD-List
                                  ;    расширенный files.bbs для облас-
                                  ;    тей на CD-ROM:
                                  ;    filename.ext size date [dlc] desc
   ;
   =====================================================================
   Предложил Tobias Ernst [tobi@bland.fido.de].

 + Появилась возможность индивидуального задания пользователями областей
   для  запаковки сообщений в QWK. В связи с этим  появились новые пара-
   метры в  LNG:  QWK_List,  QWK_EnterNum,  QWK_Controls,  No_QWK_Areas,
   QWK_Added, QWK_Deleted и новый action в MNU: Select_QWK.

 ! Файлменеджер в ManualSend не понимал длинных имен в HPFS. Заметил An-
   ton Kolyada 2:461/81

 + Добавлена еще одна весьма интересная возможность:

   = FILEAREA.CTL ======================================================
   [FileArea]
   ;
   Copy_Local No                   ; Копировать  ли   перед  скачиванием
                                   ; файлы во  временный каталог на дис-
                                   ; ке. Удобно  при  использовании  для
                                   ; хранения  файловой базы  устройств,
                                   ; время  обращения  к которым следует
                                   ; сократить до минимума (CD-changers,
                                   ; например).
   ;
   =====================================================================
   Предложил Tobias Ernst [tobi@bland.fido.de].

 % При использовании внешних протоколов, не позволяющих пересылать более
   одного  файла  (non-batch), перед закачкой  Tornado не  спрашивал имя
   файла. Заметил Roman Rupp 2:246/6010.

 % В файле новостей рядом с датой теперь можно указывать также время на-
   писания  бюллетеня, с тем,  чтобы при показе  только новых бюллетеней
   четче определять "новизну".

 ! При прерывании прорисовки .A?? файла, который задан в .MNU параметром
   [Header]->DisplayFile,  выводилась  текстовая  менюшка. Заметил  Alex
   Bobkov 2:5020/347.42.

 ! Исправлены протоколы XModem и YModem, которые в версии под OS/2 вызы-
   вали аварийное завершение работы. Заметил Roman Rupp 2:246/6010.

 % Теперь частные сообщения, не предназначеные для чтения данным пользо-
   вателем, в QWK не запаковываются. Заметил Yuriy Jarikov 2:467/53.

═════════════════════════════════════════════════════════════════════════
 18-Apr-98 Tornado 1.56gamma
═════════════════════════════════════════════════════════════════════════

 + Новый макрос: $USRS.

 ! Исправлено несколько ошибок в процедуре выбора qwk-областей.

 ! Исправлены  некоторые  ошибки,  связанные с  запаковкой  сообщений  в
   qwk-пакеты.

 ! Невозможно было ввести символ "@" в поле "To:" письма, поэтому фича с
   GateWay не имела никакого смысла. Исправлено.

 ! Скрипт вызывал run-time error при попытке вывода строковой переменной
   с пустым значением на экран/в файл.

 + По выходу из чата, инициированного сисопом  по Alt-C,  теперь восста-
   навливается содержимое экрана.

 % Небольшие подправки в QWK.

 ! В скрипт-языке не работали вложенные if-конструкции.

 + Новые команды встроенного  языка: KeyPressed, FileExists, FileGetEOF,
   StrPos, Random, WriteMsg, ShowRawDir,  GetFirstTagged, GetNextTagged,
   PageSysOp, DoorWay и FileSize.

 + Новые параметры в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [Files&Dirs]
   ;
   BadPasswords_List badpwds.ctl ; Bad paswords list - список слов, ис-
                                 ; пользование  которых  в качестве па-
                                 ; ролей пользователей на  BBS запреще-
                                 ; но.
   ;
   [Miscellaneous]
   ;
   UserInfo_MinSec  2          ; Минимальный уровень доступа для показа
                               ; подробной информации  о пользователях.
   ;
   =====================================================================

 + В LNG-файлы добавлен параметр Forbidden_Password.

 ! Если  параметр  tornado.ctl->[Files&Dirs]->LogFile не был  определен,
   log-файл все равно велся. Заметил Misha Suslin 2:5020/1065.21

 ! Исправлена ошибка, из-за которой не работала функция разрыва связи по
   истечении   лимитов,   задающихся  параметрами  limits.ctl->[Limit]->
   Max_Session и tornado.ctl->[NewUsers]->Register_Time. Заметила Nataly
   Shkreba 2:5001/30

 ! Исправлена ошибка с обработкой  параметров командной SubString. Заме-
   тил Max Chistyakov 2:5032/5.40

 ! Исправлена ошибка с вылетом OS/2 версии сразу после попытки написания
   ответа на какое-либо  письмо в  почтовой области  при помощи внешнего
   редактора. Заметил Roman Rupp 2:246/6010

 ! Исправлена ошибка с не  всегда правильной передачей скорости соедине-
   ния внешним протоколам. Заметил Roman Rupp 2:246/6010

 ! При просмотре информации о  пользователе во время чата в графе "оста-
   лось времени" можно было  увидеть отрицательные числа. Заметил Sergey
   Zamoshnikov 2:461/1111

 ! Исправлена  ошибка, связанная с показом в списке файлов с очень длин-
   ными однострочными комментариями, приводившая к зависаниям версии под
   DOS и вылетам версии под OS/2. Заметил Sergey Afanasyev 2:461/789

 % Теперь значения макросов $TIME, $TTME, $OTME и $ETME обновляются и во
   время выполнения скрипта.

 ! Исправлена масса мелких ошибок и недочетов.

 ! Исправлена ошибка, из-за которой неправильно  проводился поиск личной
   почты в hudson-базе. Заметил Alex Bobkov 2:5020/347.42

 + Появилась  возможность подключение  внешней чат-программы,  в связи с
   чем в главный файл конфигурации добавился еще один параметр:

   = TORNADO.CTL =======================================================
   [Miscellaneous]
   ;
   External_Chat ; chat.exe *P ; Командная  строка  для  вызова  внешней
                               ; чат-программы.  Возможно  использование
                               ; всех макросов, перечисленных в описании
                               ; команды меню Exec. Если значение  пара-
                               ; метра -  пустая  строка,  всегда  будет
                               ; использоваться внутренний чаттер.
   ;
   =====================================================================
   Предложил Roman Rupp 2:246/6010

 % Изменились параметры команды встроенного языка Exec. Теперь  там есть
   второй параметр - имя Number-переменной, в  которую будет занесен код
   возврата вызванной программы (errorlevel).

 + Во встроенном языке появилась возможность использования подпрограмм.

 ! Теперь CopyLocal работает правильно и со внешними протоколами тоже.

 % Немного  переделана часть  библиотеки  работы  с базами  сообщений, а
   именно, ее часть, отвечающая за JAM. Исходники были любезно предос-
   тавлены Alexander S Tokareff 2:5077/27.

 + Приятная новость для осевиков, пишущих на REXX. В Tornado/2 появилась
   возможность писать скрипт-программы на  вашем любимом языке. Пока что
   можно использовать  следующие функции: Clear, Hangup, ChangeFileArea,
   ChangeFileGroup,  ChangeMsgArea,  ChangeMsgGroup,  FileList, DoorWay,
   FileDisplay,  Write,  WriteLn,  AddToDownLoadList,  DownLoad, Upload,
   Message,   UpLoadPriv,  ShowRawDir,   FilePost,  WriteMsg,  UserInfo,
   PageSysOp, ReadVar,  KeyPressed, ReadKey,  SetCursorCoord, SetColor и
   YesNo, а также SetMacro и GetMacro, подробнее о которых  можно прочи-
   тать в  документации.  Синтаксис  задания  параметров в  точности та-
   кой же, как и у одноименных команд встроенного языка. Зарезервирован-
   ные имена TRX-файлов (таково pасшиpение  файлов на Tornado RexX) пол-
   ностью совпадают  с именами хуков  встроенного языка (глава 8.6 доку-
   ментации). Также появилась новая  команда меню - Exec_Rexx. Специаль-
   ное спасибо  Alexander S Tokareff 2:5077/27 за  активное содействие в
   реализации этой фичи.

 ! При недостаточном  для  сканчивания уровне  доступа  пользователь мог
   таки  скачать  файлы, указав  для пометки  не номер  одного  файла, а
   диапазон (через тире). Заметил Nikolay Romanov 2:5061/17.7

═════════════════════════════════════════════════════════════════════════
 08-Nov-98 Tornado 1.60beta
═════════════════════════════════════════════════════════════════════════

 ! Исправлена  ошибка  с добавлением  лишних  символов  в конец строк из
   IEMSI. Заметил Alexander Trunov 2:5069/1.54

 ! Если значения  параметров Save_Tag_Path  и Priv_Uploads_Dir  в torna-
   do.ctl не совпадали, не работал private upload. Заметил Nikolay Roma-
   nov 2:5061/17.7

 + Новые параметры в основном файле конфигурации:

   = TORNADO.CTL =======================================================
   [NewUsers]
   ;
   Display_Lines_Ask Yes         ; Спрашивать  ли у нового  пользователя
                                 ; при  регистрации количество  строк на
                                 ; экране или устанавливать сразу значе-
                                 ; ние,  определенное  параметром  Disp-
                                 ; lay_Lines (Yes/No) ?
   ;
   Location Yes                  ; Спрашивать ли у нового пользователя
                                 ; при регистрации место его географи-
                                 ; ческого расположения (Yes/No) ?
   ;
   Accept_Registration Yes       ; Спрашивать ли у пользователя подтверж-
                                 ; дение окончания процесса регистрации.
   ;
   Ask_Alias  Yes                ; Спрашивать ли псевдоним пользователя
                                 ; при регистрации.
   ;
   [Miscellaneous]
   ;
   Page_Times_Limit 3            ; Количество раз, сколько пользователь
                                 ; может вызывать СисОпа на чат за один
                                 ; сеанс работы.
   ;
   MsgQuote_Prefix  Yes          ; Ставить ли инициалы автора письма в
                                 ; цитировании при ответе на письмо в поч-
                                 ; товой области.
   ;
   =====================================================================

 ! Исправлены некоторые проблемы в DoorWay, связанные с работой с файла-
   ми, имеющими атрибуты ReadOnly, Hidden и  System. Заметил Serge Guzi-
   kov 2:5010/83.10

 + Новые  команды встроенного  языка:  FileDelete, GlobalSearch,  NoYes,
   GetCursorCoord, KeyMacro,  Log, Ord, NewFilesSince, NewFilesSinceLast
   и NoYes.

 + Новый символ лог-события: "%" - им в лог-файле  отмечается выполнение
   сценариев. Предложил Michael Suslin 2:5020/1065.21

 % Теперь, если имена почтовых или  файловых областей содержат  цветовые
   коды, то  при написании этих имен в лог-файл, файл экспорта для qwk и
   т.д., коды вырезаются.

 ! В doorway.ctl невозможно было задавать флажки, необходимые для выпол-
   нения заданных команд. Заметил Serge Guzikov 2:5010/83.10

 ! После обрыва пользователя во время регистрации и  последующей regist-
   ration resume параметр "пауза после каждой страницы экрана" становил-
   ся отрицательным (no). Заметил Jack Lensky 2:461/445.686

 % Теперь макрос $ETME доступен для изменения из  программ на встроенном
   языке.

 + Программы на TRS (tornado script) и TRX  (tornado rexx) теперь  могут
   принимать параметры, задающиеся  через пробел после имен файлов прог-
   рамм в командах вызова оных.

 ! Исправлено несколько недочетов, из-за которых могла не работать обра-
   ботка залитых пользователями REP-пакетов.

 % Теперь вместо  макроподстановок командной  строки *P и *H в локальном
   режиме подставляются нули. Обратил внимание Oleg Deribas 2:461/13

 ! Исправлена  досадная  ошибка, из-за  которой не  работала фича torna-
   do.ctl->[FileAreas]->Upload_AjustDate.

 % Теперь атрибут "free" файлов, помеченных  для скачивания, не теряется
   после восстановления их списка из .lst файла (фича SaveTagList).

 % Теперь в режиме чата при tornado.ctl->[Miscellaneous]->Chat_Time_Sus-
   pend Yes, в результате  наступления времени  события разрыва связи не
   происходит.

 ! Исправлена небольшая ошибка, связанная с неверным  отображением строк
   .A?? файлов, содержащих символ ASCII#1 - ожидание нажатия Enter. Про-
   блему обнаружил Roman Rupp 2:246/6010

 ! Если  файл меню, указанный в параметрах к действию Gosub_Menu, не су-
   ществовал, Tornado выводил пользователю строку с приглашением сделать
   выбор и на ней зацикливался. Заметил Leon Afanasev 2:5030/614.29

 ! Пользователь,  уровня доступа которого не хватало для скачивания фай-
   лов из  области, мог преспокойно  просмотреть их  через  команду меню
   Type_File. Заметил Evgeny Morozov 2:4651/666.15

 ! При показе описаний к файлам было допустимо использование макросов, в
   том числе и $EXEC, что само по себе являлось очень хорошей дырой. За-
   метил Evgeny Morozov 2:4651/666.15. За нахождение  остальных проявле-
   ний этой  ошибки  специальное  спасибо  высказываю  Vladyslav Yakubo-
   vich 2:454/11

 ! Если upload был прерван по причине разрыва связи, пользователю не до-
   бавлялось за него время.

 ! Не  работало запрещение  поиска новых  файлов в области ([FileArea]->
   Scan_NewFiles No). Заметил Vladyslav Yakubovich 2:454/11

 % При вводе имени не допускалось использование  символа "апостроф". За-
   метил Yuriy Talakan' 2:5042/7.24

 - За  ненадобностью   удален   параметр  tornado.ctl->[Miscellaneous]->
   Txt_More_Disable.

 ! При попытке создания базы сообщений типа JAM вешались. Заметил Vitaly
   Portunov <port@gymn1.bitmcnit.bryansk.su>

 ! Если Tornado не хватало памяти для открытия  JAM-базы, случался вылет
   по рантайму. Теперь при нехватке памяти база  просто не открывается и
   сканирование продолжается.

 + Добавлено еще два зарезервированных имени .TRS-файлов: upload и down-
   load. Предложил Max Chistyakov 2:5032/5.40

 ! Если в каталоге с .LNG  файлами находился только  один файл-описатель
   языка сообщений, то вместе с меню выбора языка не показывалось и меню
   выбора кодировки. Заметил Max Chistyakov 2:5032/5.40

 % Теперь при локальном аплоаде можно задавать маски файлов.

 ! Не работала команда встроенного языка StrPos.

 ! После завершения чата содержимое экрана восстанавливалось у пользова-
   теля вместе со строкой статуса. Заметил Vitaly Kovalevskiy 2:5020/1513.4

 + Мелодия вызова  на чат теперь вынесена в  отдельный файл и может сво-
   бодно конфигурироваться. Файл этот должен находиться в основном ката-
   логе Tornado и иметь стандартное имя page.tor. Формат его очень прост,
   возможно использование двух команд:

   TONE [hz] [sec] (нота частотой hz и длительностью sec сотых секунды)
   WAIT [sec]      (пауза в sec сотых секунды)

 % Useredit.exe теперь должен работать на Pentium II.

 ! Если не  было определено ни одной файловой  области в filearea.ctl, в
   DoorWay после скачивания файла происходил подвис. Заметил Tolya Bori-
   senkov 2:451/13

 ! Если имя показываемого  через команду  меню  Display_File или команду
   скрипта  FileDisplay файла состояло из 8 символов, то файл этот пока-
   зывался  девять раз  подряд. Очень помог своим  баг-репортом Vladimir
   Crick 2:5030/457.23, благодаря которому, собственно, и удалось испра-
   вить.

 ! Исправлена ошибка, из-за которой  после окончания выполнения  скрипта
   у пользователя отнималось время, количество которого равнялось значе-
   нию макроса $OTME. Заметил закономерность Vladimir Crick 2:5030/457.23

 ! В DoorWay была возможна смена  текущего диска  на неготовое устройст-
   во. Заметил George Yohng 2:454/1.68

 ! Каждая конструкция
   ---
   if expr
     goto label
   end
   ---
   встроенного  языка  съедала  при выполнении  по 8 байт памяти и, если
   скрипт с  постоянным повторением  такого кода  выполнялся  достаточно
   долго, эта ошибка могла приводить к полному заполнению  свободной па-
   мяти и вываливанию программы по run-time error 203. Заметил Max Chis-
   tyakov 2:5032/5.40

 + В скрипт-язык добавлена возможность вызывать другие trs-программы по-
   средством команды Call.

 ! Исправлена ошибка в версии под OS/2, связанная с использованием в вы-
   ражениях переменной, которой до этого не было присвоено никакого зна-
   чения. Заметил Kosh 2:5020/1286.9

 % Теперь, если в конфигурации Tornado задан показ только последних бюл-
   летеней новостей (tornado.ctl->[NewUsers]->Show_News Last),  то неза-
   висимо от даты их  написания, вновь  зарегистрированному пользователю
   показываются все подряд. Предложил Youra Shirikov 2:5020/390.23

 ! Неправильно работал сдвиг lastread'ов в JAM-базе при запаковке QWK.

 % Теперь  в однолинейной  системе при вызове внешних  программы генери-
   руется файл doorinfo1.def, а не doorinfo0.def, как  раньше. Прошу об-
   ратить внимание и исправить всех тех, кто к этому имени как-то привя-
   зывался.

 ! Optional  data для команды  меню FileList игнорировалась. Заметил Va-
   lentin Chernyak 2:468/37.44

 ! Autoexec-пункты меню  выполнялись всегда, несмотря на флаги и уровень
   доступа. Заметил Dmitriy Aljoshin <daljoshin@glasnet.ru>

 + Новый параметр в LNG - Page_Limit.

 ! Макрос  $DAOB не был доступен для изменения из скрипт-программ. Заме-
   тил Max Chistyakov 2:461/35.40

 ! Имелась возможность скачать файл из области, не доступной по DL_Secu-
   rity через Global_Search. Заметил Evgeny Morozov 2:4651/666.15

 ! Трехуровневая вложенность  логических конструкций if/else/end в прог-
   раммах на TRS не работала.

 + В скрипт-язык добавлена пара десятков  конфигурационных переменных, с
   помощью которых из  скрипт-программы  можно узнать системный  каталог
   Tornado, имя  файла-протокола,  ориджин в текущей  почтовой области и
   т.п. См. главу 8.2 файла tornado.doc.

 ! Исправлено  несколько ошибок, связанных со вложенным вызовом процедур
   в программах на скрипт-языке. Спасибо => Dmitry Shtivel 2:450/89.22

 % Произведена обратная замена модуля работы с JAM-базой. Он хоть и мед-
   леннее (уже начаты работы по ускорению), но требует на порядок меньше
   памяти.

 ! В скриптах  не был доступен  макрос $USRS. Заметил  Alexander Yujakov
   2:5004/11.30

 ! Исправлены некоторые проблемы, связанные с вызовом  скриптов из строк
   LNG-файлов посредством макроса $EXEC. Заметил Max Chistyakov 2:5032/5.40

 ! В скриптах  не работало явное  присвоение числовым переменным отрица-
   тельных значений. Заметил Andrey Subbotin 2:5054/31.3

 % Макрос $PROT в  скриптах стал изменяемым. Теперь для изменения значе-
   ния поля "протокол" в параметрах  пользователя достаточно просто при-
   своить этому макросу номер встроенного или букву внешнего протокола.

 ! Исправлена досадная ошибка с нераспознаванием символа ASCII#1 как ко-
   манды  ожидания  нажатия Enter.  Проявлялась при  включенной эмуляции
   Avatar.

 + Вышла версия под  Win95/98/NT. Пока что Tornado/W32 существует только
   в виде alpha-версии со всеми вытекающими ... Обещаю глюки, баги, кра-
   хи системы и пр. Буду рад  всем  замечаниям, касающимся этой версии -
   они помогут мне сделать ее  более стабильной и поставить на один уро-
   вень с DOS и OS/2 версиями. Хочу выразить огромную благодарность сле-
   дующим людям, благодаря которым данная версия программы увидела свет:

   √ Boris Loboda 2:461/256, за многочисленные консультации по програм-
     мированию коммуникаций на Delphi под Windows.

   √ Maarten Bekers 2:285/233.5 (автор  программы EleBBS), за советы по
     написанию и описание различного  рода подводных камней, с которыми
     он сталкивался в процессе написания EleBBS/W32.

   √ Oleg Rokhlin 2:461/600, за  неотвлекание от моей деятельности :) и
     активное тестирование.

 ! При вызове команды  меню Todays_Callers вместо времени входа пользо-
   вателя на станцию  писалось время его выхода. Заметил Alexander Lya-
   shuk 2:454/9.212

 + Новые   параметры  в  основном   файле  конфигурации:  frames_Color,
   news_Frames и news_Date, с помощью которых теперь можно менять цвет
   обрамлений полей ввода, рамок и дат в новостях. Предложил Bryan Tur-
   ner 1:124/7013

 + В комплект поставки программы теперь входит файл системных сообщений
   на немецком языке. Теперь, чтобы Торнада заговорила с сисопом по-не-
   мецки,  достаточно  переименовать tornado.ger в tornado.msg. Большое
   спасибо за перевод Roman Rupp 2:246/6010.

 % Масса изменений и исправлений по мелочам.

═════════════════════════════════════════════════════════════════════════
 01-Dec-98 Tornado 1.65gamma
═════════════════════════════════════════════════════════════════════════

 + ВНИМАНИЕ. Начиная с данной версии, Tornado распространяется в рамках
   концепции UnLimited  Shareware. Это значит, что  вы можете использо-
   вать незарегистрированную копию программы в некоммерческих целях бе-
   зо всяких ограничений, но если вы хотите иметь возможность использо-
   вать дополнительные  возможности и/или поддержать автора в его деле,
   вам следует купить файл-ключ. Подробности в license.doc.

 ! При сканировании JAM-базы на предмет  присутствия личной почты пока-
   зывалось только одно сообщение в каждой области. Заметил Dmitry Raz-
   begaev 2:5020/1572.777

 ! Инсталляционная программа не обновляла файлы конфигурации.

 % Теперь Win32-версия понимает модификаторы линий в .CTL-файлах.

 + Радуйтесь, любители курсорных меню! Теперь в Tornado  имеется встро-
   енная поддержка этой красоты. Реализуется все с  помощью одного лишь
   параметра в .MNU [Header]->Arrows_Setup, о синтаксисе которого можно
   прочитать в документации.

 + Теперь с помощью  команды скрипта ReadKey  можно отлавливать нажатия
   курсорных клавиш. Специально  для этого  введены константы  keyb_Up,
   keyb_Down, keyb_Left  и keyb_Right,  сравнивая с которыми  результат
   команды можно определить нажатую курсорную клавишу.

 + В полях  ввода теперь тоже  работает перемещение курсора по  нажатию
   курсорных клавиш.

 ! При использовании внешних  протоколов в файл-список не  записывались
   пути к скачиваемым файлам. Заметил Max Chistyakov 2:461/35.40

 ! Благодаря  сообщениям Michail  Shatalov 2:5025/6.52 исправлено  мно-
   жество мелких ошибок в версии для Win32.

 + Начаты  работы  по встраиванию  интернет-сервисов Telnet и  Finger в
   версии программы для OS/2 и Windows. В зависимости от активности ре-
   гистрации копий Tornado  решу, стоит ли закрывать эти  возможности в
   незарегистрированной версии.

 % Из .lng удалены параметры Del_Start_Line и Del_End_Line. Они замене-
   ны одной строкой Del_Lines.

 ! Не понимались символы табуляции в .trs файлах.

 + Новый макрос: $NODE.

 & Поменялся  мой  основной e-mail  адрес: konst@cca.kharkov.ua  больше
   нет. Теперь следует писать на konst@quake.vostok.net.

 ! Несмотря на  значение filearea.ctl->[FileArea]->Scan_NewFiles, поиск
   новых производился во всех без исключения файловых областях. Заметил
   Andrey Timoshin 2:5020/718.50

 ! Если новый пользователь входил с EMSI, в котором  не указаны его те-
   лефоны, Tornado не спрашивал  их отдельно. Заметил Andrey Ryabchukov
   2:461/103.

═════════════════════════════════════════════════════════════════════════
 xx-Feb-99 Tornado 1.70gamma
═════════════════════════════════════════════════════════════════════════

 ! Исправлены  кое-какие  недочеты в  модуле работы с  почтовыми базами
   формата squish.

 ! При попытке закачки .REP пакета Tornado/OS2 вылетал с runtime error.
   Исправлено также еще несколько  ошибок, приводивших к тому, что вер-
   сия программы под OS/2 некорректно завершалась по runtime error.

 ! Символы табуляции в files.bbs воспринимались программой неверно.

 ! Tornado/W32: во многих окнах программы неправильно отображались над-
   писи на русском (при установленном файле сообщений tornado.rus).

 + Теперь курсорными клавишами можно прокручивать "историю" строк ввода
   там, где это нужно: в doorway и TRC.

 % Внесены кое-какие коррективы в модуль обработки курсорных меню.

 ! При выключенных DLC при  закачивании файлов  вводимые пользователями
   описания записывались в files.bbs в искаженном виде.

 ! В Tornado/W32 возникали проблемы при входе lockout-пользователя. За-
   метил Timur Maximov 2:5049/48.101

 + Теперь в TTY-режиме  курсорные  меню показываются более  похожими на
   свой ANSI-прообраз.

 % Теперь при  использовании  курсорных  меню, когда курсор попадает на
   пункт, в  тексте  которого содержится  переопределение  фона (символ
   "%"), цвет фона все равно меняется на заданный параметром Arrows_Se-
   tup.

 + Теперь можно задавать цвет "скрытых" пунктов  меню. Актуально только
   в том случае, если параметр tornado.ctl->[Miscellaneous]->Show_Secu-
   red поставлен в Hidden. Цвет  задается  параметром tornado.ctl->[Co-
   lors]->menus_Hidden.

 + Еще одна существенная доработка. Внемля многочисленным просьбам тру-
   дящихся, я сел и написал встроенный  полноэкранный редактор почтовых
   сообщений. Теперь пользователи со включенным параметром "full-screen
   editor" в настройках, если  внешний редактор не  прицеплен к Торнадо
   параметром tornado.ctl->[Miscellaneous]->External_Editor, будут при
   написании сообщений пользоваться красивым и удобным редактором, под-
   держивающим основные  возможности широко  распространенных текстовых
   процессоров. В связи с  появлением этой возможности в файлы конфигу-
   рации добавлены параметры:

   tornado.ctl->[Colors]->editor_Text
   tornado.ctl->[Colors]->editor_Quotes
   *.lng->[Language_Section]->FSEdit_StatusLine

 ! Если пароль, находящийся  в списке  запрещенных, вводился с  помощью
   IEMSI-входа,   программа  принимала  его.  Заметил  Eugene  Subbotin
   2:5075/21.40

 % В Tornado/W32 теперь в окошке истории звонков показываются все пунк-
   ты, а не последние семь, как было раньше.

 ! При использовании внешнего редактора для  написания сообщений в net-
   mail-область, неверно ставился адрес получателя. Заметил Timofey Ya-
   kushev 2:5038/9.11

 + Еще одно новшество: встроенный  полноэкранный чат. Теперь он включа-
   ется автоматически  при  использовании  ansi или avatar  эмуляции. В
   связи с реализацией этой возможности:

   1. Появилось еще одно зарезервированное имя CHTFRAME.A?? - картинка,
   служащая "фоном" для чата. Рекомендую распаковать эти файлы из дист-
   рибутива ручками и положить в каталог с текстовыми файлами.

   2. Новые параметры конфигурации:

   = TORNADO.CTL ======================================================
   [Miscallaneous]
   ;
   Chat_SysOp_Window 3,  2, 10, 61 ; Координаты окна сисопа во
                                   ; встроенном полноэкранном чате.
   ;
   Chat_User_Window 14, 14, 21, 73 ; Координаты окна пользователя во
                                   ; встроенном полноэкранном чате.
   ;
   [Colors]
   ;
   chat_Text     Cyan/Black        ; Встроенный полноэкранный чат: текст
   ;
   ====================================================================

 + В скрипт добавлены еще две константы для сравнения с результатом ко-
   манды ReadKey: keyb_Home и keyb_End.

 ! Небольшое исправление в TRS: теперь  командой GoTo нельзя переходить
   из процедуры в основную программу. Вызывало  появление глюков. Заме-
   тил Leonid Novoselov 2:5054/37.6

 + В DoorWay добавлена еще одна очень  полезная команда - EDIT. Введен-
   ная в командной строке с единственным параметром - именем файла, она
   вызывает встроенный  текстовый процессор  для его  редактирования. В
   связи с этим в doorway.ctl добавился новый параметр:

   = DOORWAY.CTL ======================================================
   [Restrictions]
   ;
   Edit_Security   256      ; Минимальный уровень доступа для выполения
                            ; команды  EDIT (редактирование  указанного
                            ; текстового файла).
   ;
   ====================================================================

 % Теперь ведется сортировка списка файлов, показываемых по команде DIR
   в DoorWay.

 + Новая  команда TRS: FileGetToString (FileNumber, LineNumber). Быстро
   добирается до строки с заданным номером в текстовом файле.

 % DoorWay преобразился :) В процессе  улучшения оного была удалена ко-
   манда DiskInfo.

 ! При  изменении  уровня  доступа   из  TRS   изменялись  все  лимиты,
   кроме  ограничения по  объему  скачиваемых файлов. Заметил  Alex So-
   lovyov 2:5020/1575.66

 ! Не работал макрос $EXEC, если имя trs-файла содержало цифры. Заметил
   Denis Kostylew 2:450/82

 + Два новых параметра командной строки:

   -S<filename> - запуск Tornado script файла с указанным именем,
   -T<filename> - запуск Tornado REXX файла с указанным именем.

   Сделано специально для удобства разработки и отладки скриптов. Пред-
   ложил Denis Smirnov 2:5020/1558.6

 ! Теперь пункты курсорного меню с пустым текстом для показа не отобра-
   жаются при  отрисовке  меню,  однако, вызываются  по нажатию горячих
   клавиш.

 ! Не  совсем  корректно  работало присвоение  значений макросу $ETME в
   скриптах. Заметил Maxxi 2:450/89.22

 ! Починил модуль работы с базами сообщений типа Squish. Теперь сообще-
   ния, написанные в Tornado, видны и другим программам.

 + Теперь макрос $LFKB доступен для изменения из скриптов.

 + Новые макросы:
     $FAGR (количество областей в текущей файловой группе),
     $FAMT (общее количество определенных файловых областей),
     $FGAM (общее количество определенных файловых групп),
     $MAGR (количество областей в текущей почтовой группе),
     $MAMT (общее количество определенных почтовых областей),
     $MGAM (общее количество определенных почтовых групп).

 ! Некоторые ARJ-архивы  не  распознавались  командой  arcview. Заметил
   Tomas Nehybka 2:421/25.21

 % Теперь макросы $FNUM и $MNUM обозначают  относительные номера облас-
   тей в текущей группе. Предолжил Alex Solovyov 2:5020/1575.66

 + Новое  зарезервированное  имя  TRS:  afterupl.trs. Выполняется после
   описания пользователем каждого закачаного файла, в качестве парамет-
   ра в этот скрипт  передается имя  описываемого  файла. Предложил Max
   Chistyakov 2:5032/5.40

 + Новые параметры в главном конфигурационном файле:

   = TORNADO.CTL ======================================================
   [Miscellaneous]
   ;
   Chat_Style   FullScreen      ; Вид чата: полноэкранный (FullScreen)
                                ; или строчный (Usual).
   ;
   YesNo_Style  Menu            ; Вид вопросов Yes/No: меню (Menu) или
                                ; строка (String).
   ;
   ====================================================================

 % Некоторые  изменения в TORNADO.CTL: добавилась секция [MsgAreas] и в
   нее  перекочевали  параметры MsgQuote_Prefix,  QWK_Pack, QWK_UnPack,
   External_Editor и  To_SysOp_Area  из [Miscellaneous]. Также  добави-
   лись:

   = TORNADO.CTL ======================================================
   [MsgAreas]
   ;
   Post_Quote  Ask           ; Цитировать оригинальное сообщение при
                             ; ответе в почтовой области (Yes - да,
                             ; No - нет, Ask - спрашивать пользова-
                             ; теля)
   ;
   Post_Upload Ask           ; Закачивание заранее подготовленного
                             ; сообщения в виде текстового файла при
                             ; помещении в почтовую область (Yes - да,
                             ; No - нет, Ask - спрашивать пользователя)
   ;
   QWK_Add  logoff, welcome, news.txt
                             ; Список .A?? файлов (через запятую),
                             ; которые будут вставляться в каждый qwk
                             ; пакет.
   ;
   ====================================================================

 + Новые параметры в LNG: TRC_line, TRC_joined, TRC_left, TRC_entered и
   TRC_left_BBS.

 + Новое зарезервированное имя .A?? файла: TRCHELP.

 + Улучшен интерфейс версии для Win32.

 ! При скачивании файлов с помощью  команды DL из DoorWay и использова-
   нии внешнего протокола  пересылки, в файл protocol.ctl->[External]->
   List записывались только имена файлов  без пути к ним. Заметил Roman
   Rupp 2:246/6010

 + В MNU  файлах в  качестве горячих  клавиш теперь  можно использовать
   курсорные кнопки keyb_Up, keyb_Down, keyb_Left, keyb_Right, keyb_Ho-
   me и keyb_End.

 % Теперь Tornado/W32, как и версии  под DOS и OS/2, завершает работу в
   случае ошибки инициализации модема.

 + На экран отображения статуса протокола пересылки файлов в версии для
   Win95/98/NT добавлена кнопка Cancel, при нажатии на которую пересыл-
   ка прерывается.

$+ Появился встроенный Telnet client в версиях под OS/2 и Win95/98/NT.
   Доступен только зарегистрированным пользователям и вызывается из ме-
   ню или TRS командой Telnet, необязательным  параметром которой явля-
   ется hostname машины, с которой собираемся связаться. Помимо команды
   меню и TRS, в связи с  реализацией этой  возможности добавилось нес-
   колько  новых  параметров LNG:  Telnet_Connected, Telnet_Connection,
   Telnet_Closed, Unable_To_Resolve, Cannot_Connect, Telnet_Trying.

 ! Неправильно отображались пункты курсорного меню при выводе их в одну
   строку. Заметил Славик Ворошилов 2:5005/58.35

 % Полностью  переписан модуль обработки  текстовых файлов конфигурации
   Tornado. Теперь он  работает быстрее, требует  меньше памяти и необ-
   ходимо создавать  меньше файлов *.bi?, так что  смело можете удалить
   файлы russian.bi?, english.bi?, german.bi?, tornado.bi?, limits.bi?,
   protocol.bi? и doorway.bi? - они больше  создаваться не будут. Также
   больше не понадобятся ресурсы  старого обработчика файлов конфигура-
   ции - tornado.res и tornado2.res.

 % Изменен способ задания таблиц перекодировки выводящейся информации.
   Теперь секция [XLAT] в файлах .LNG имеет следующий вид:

   [XLAT]
   koi8.xlt     Кодировка KOI8-R
   win1251.xlt  Кодировка Windows-1251

   Несложно заметить, что первое слово здесь в каждой строке - имя фай-
   ла,  содержащего  таблицу, а  остальное - название  кодировки. Файлы
   .XLT имеют  структуру Array [0..255] Of Char; Каждый элемент массива
   содержит символ, в который происходит перекодировка выводимых симво-
   лов, причем порядковый номер элемента совпадает с ASCII-кодом исход-
   ного символа для перекодирования.

 + В  tornado.ctl->[Miscellaneous]->LogEvents  добавился еще  один сим-
   вол-вид  события: @ - подробное отображение некоторых данных, вводи-
   мых пользователем.

 % Специально для пользователей  Tornado в связке с мейлером под управ-
   лением  операционной системы  Windows NT добавлена еще  одна возмож-
   ность,  касающаяся  передачи параметров  в командной строке: символы
   "##" в ней отныне  заменяются на "&". Это должно ликвидировать проб-
   лему с некорректной передачей строки возвращения на линию при вызове
   Tornado/W32 из-под Win32-мейлера.

 * Плохая новость для  пользователей версии  под OS/2. Выход версий под
   эту славную ОС временно приостановлен в связи с  проблемой установки
   оной на мой домашний компьютер, который претерпел некоторый апгрейд.

 + Нарисовал очень симпатичный About в Tornado/W32. Всем рекомендую по-
   смотреть ;)

 ! Исправлено много всего по мелочам.

═════════════════════════════════════════════════════════════════════════
                                   * * *
                                   